import{g as Q}from"./index-Wwh301DR.js";function q(N,j){for(var _=0;_<j.length;_++){const v=j[_];if(typeof v!="string"&&!Array.isArray(v)){for(const $ in v)if($!=="default"&&!($ in N)){const k=Object.getOwnPropertyDescriptor(v,$);k&&Object.defineProperty(N,$,k.get?k:{enumerable:!0,get:()=>v[$]})}}}return Object.freeze(Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}))}var W={exports:{}};(function(N,j){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(_,v,$){var k=_("./lib/dom"),B=_("./lib/oop"),D=_("./lib/event_emitter").EventEmitter,F=_("./lib/lang"),L=_("./range").Range,E=_("./range_list").RangeList,A=_("./keyboard/hash_handler").HashHandler,H=_("./tokenizer").Tokenizer,I=_("./clipboard"),w={CURRENT_WORD:function(i){return i.session.getTextRange(i.session.getWordRange())},SELECTION:function(i,e,t){var a=i.session.getTextRange();return t?a.replace(/\n\r?([ \t]*\S)/g,`
`+t+"$1"):a},CURRENT_LINE:function(i){return i.session.getLine(i.getCursorPosition().row)},PREV_LINE:function(i){return i.session.getLine(i.getCursorPosition().row-1)},LINE_INDEX:function(i){return i.getCursorPosition().row},LINE_NUMBER:function(i){return i.getCursorPosition().row+1},SOFT_TABS:function(i){return i.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(i){return i.session.getTabSize()},CLIPBOARD:function(i){return I.getText&&I.getText()},FILENAME:function(i){return/[^/\\]*$/.exec(this.FILEPATH(i))[0]},FILENAME_BASE:function(i){return/[^/\\]*$/.exec(this.FILEPATH(i))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(i){return this.FILEPATH(i).replace(/[^/\\]*$/,"")},FILEPATH:function(i){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(i){var e=i.session.$mode||{};return e.blockComment&&e.blockComment.start||""},BLOCK_COMMENT_END:function(i){var e=i.session.$mode||{};return e.blockComment&&e.blockComment.end||""},LINE_COMMENT:function(i){var e=i.session.$mode||{};return e.lineCommentStart||""},CURRENT_YEAR:T.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:T.bind(null,{year:"2-digit"}),CURRENT_MONTH:T.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:T.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:T.bind(null,{month:"short"}),CURRENT_DATE:T.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:T.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:T.bind(null,{weekday:"short"}),CURRENT_HOUR:T.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:T.bind(null,{minute:"2-digit"}),CURRENT_SECOND:T.bind(null,{second:"2-digit"})};w.SELECTED_TEXT=w.SELECTION;function T(i){var e=new Date().toLocaleString("en-us",i);return e.length==1?"0"+e:e}var P=function(){function i(){this.snippetMap={},this.snippetNameMap={},this.variables=w}return i.prototype.getTokenizer=function(){return i.$tokenizer||this.createTokenizer()},i.prototype.createTokenizer=function(){function e(r){return r=r.substr(1),/^\d+$/.test(r)?[{tabstopId:parseInt(r,10)}]:[{text:r}]}function t(r){return"(?:[^\\\\"+r+"]|\\\\.)"}var a={regex:"/("+t("/")+"+)/",onMatch:function(r,s,c){var n=c[0];return n.fmtString=!0,n.guard=r.slice(1,-1),n.flag="",""},next:"formatString"};return i.$tokenizer=new H({start:[{regex:/\\./,onMatch:function(r,s,c){var n=r[1];return(n=="}"&&c.length||"`$\\".indexOf(n)!=-1)&&(r=n),[r]}},{regex:/}/,onMatch:function(r,s,c){return[c.length?c.shift():r]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(r,s,c){var n=e(r.substr(1));return c.unshift(n[0]),n},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(r,s,c){var n=r.slice(1,-1).replace(/\\[,|\\]|,/g,function(u){return u.length==2?u[1]:"\0"}).split("\0").map(function(u){return{value:u}});return c[0].choices=n,[n[0]]},next:"start"},a,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(r,s,c){return c.length&&c[0].expectElse?(c[0].expectElse=!1,c[0].ifEnd={elseEnd:c[0]},[c[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(r,s,c){var n=r[1];return n=="}"&&c.length||"`$\\".indexOf(n)!=-1?r=n:n=="n"?r=`
`:n=="t"?r="	":"ulULE".indexOf(n)!=-1&&(r={changeCase:n,local:n>"a"}),[r]}},{regex:"/\\w*}",onMatch:function(r,s,c){var n=c.shift();return n&&(n.flag=r.slice(1,-1)),this.next=n&&n.tabstopId?"start":"",[n||r]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(r,s,c){return[{text:r.slice(1)}]}},{regex:/\${\w+/,onMatch:function(r,s,c){var n={text:r.slice(2)};return c.unshift(n),[n]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(r,s,c){var n=c.shift();return this.next=n&&n.tabstopId?"start":"",[n||r]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(r,s,c){var n=c[0];return n.formatFunction=r.slice(2,-1),[c.shift()]},next:"formatString"},a,{regex:/:[\?\-+]?/,onMatch:function(r,s,c){r[1]=="+"&&(c[0].ifEnd=c[0]),r[1]=="?"&&(c[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),i.$tokenizer},i.prototype.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(a){return a.value||a})},i.prototype.getVariableValue=function(e,t,a){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](e,t,a)),r??""},i.prototype.tmStrFormat=function(e,t,a){if(!t.fmt)return e;var r=t.flag||"",s=t.guard;s=new RegExp(s,r.replace(/[^gim]/g,""));var c=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,n=this,u=e.replace(s,function(){var o=n.variables.__;n.variables.__=[].slice.call(arguments);for(var d=n.resolveVariables(c,a),l="E",m=0;m<d.length;m++){var x=d[m];if(typeof x=="object")if(d[m]="",x.changeCase&&x.local){var y=d[m+1];y&&typeof y=="string"&&(x.changeCase=="u"?d[m]=y[0].toUpperCase():d[m]=y[0].toLowerCase(),d[m+1]=y.substr(1))}else x.changeCase&&(l=x.changeCase);else l=="U"?d[m]=x.toUpperCase():l=="L"&&(d[m]=x.toLowerCase())}return n.variables.__=o,d.join("")});return u},i.prototype.tmFormatFunction=function(e,t,a){return t.formatFunction=="upcase"?e.toUpperCase():t.formatFunction=="downcase"?e.toLowerCase():e},i.prototype.resolveVariables=function(e,t){for(var a=[],r="",s=!0,c=0;c<e.length;c++){var n=e[c];if(typeof n=="string"){a.push(n),n==`
`?(s=!0,r=""):s&&(r=/^\t*/.exec(n)[0],s=/\S/.test(n));continue}if(n){if(s=!1,n.fmtString){var u=e.indexOf(n,c+1);u==-1&&(u=e.length),n.fmt=e.slice(c+1,u),c=u}if(n.text){var o=this.getVariableValue(t,n.text,r)+"";n.fmtString&&(o=this.tmStrFormat(o,n,t)),n.formatFunction&&(o=this.tmFormatFunction(o,n,t)),o&&!n.ifEnd?(a.push(o),d(n)):!o&&n.ifEnd&&d(n.ifEnd)}else n.elseEnd?d(n.elseEnd):(n.tabstopId!=null||n.changeCase!=null)&&a.push(n)}}function d(l){var m=e.indexOf(l,c+1);m!=-1&&(c=m)}return a},i.prototype.getDisplayTextForSnippet=function(e,t){var a=p.call(this,e,t);return a.text},i.prototype.insertSnippetForSelection=function(e,t,a){a===void 0&&(a={});var r=p.call(this,e,t,a),s=e.getSelectionRange(),c=e.session.replace(s,r.text),n=new f(e),u=e.inVirtualSelectionMode&&e.selection.index;n.addTabstops(r.tabstops,s.start,c,u)},i.prototype.insertSnippet=function(e,t,a){a===void 0&&(a={});var r=this;if(e.inVirtualSelectionMode)return r.insertSnippetForSelection(e,t,a);e.forEachSelection(function(){r.insertSnippetForSelection(e,t,a)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},i.prototype.$getScope=function(e){var t=e.session.$mode.$id||"";if(t=t.split("/").pop(),t==="html"||t==="php"){t==="php"&&!e.session.$mode.inlinePhp&&(t="html");var a=e.getCursorPosition(),r=e.session.getState(a.row);typeof r=="object"&&(r=r[0]),r.substring&&(r.substring(0,3)=="js-"?t="javascript":r.substring(0,4)=="css-"?t="css":r.substring(0,4)=="php-"&&(t="php"))}return t},i.prototype.getActiveScopes=function(e){var t=this.$getScope(e),a=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&a.push.apply(a,r[t].includeScopes),a.push("_"),a},i.prototype.expandWithTab=function(e,t){var a=this,r=e.forEachSelection(function(){return a.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},i.prototype.expandSnippetForSelection=function(e,t){var a=e.getCursorPosition(),r=e.session.getLine(a.row),s=r.substring(0,a.column),c=r.substr(a.column),n=this.snippetMap,u;return this.getActiveScopes(e).some(function(o){var d=n[o];return d&&(u=this.findMatchingSnippet(d,s,c)),!!u},this),u?(t&&t.dryRun||(e.session.doc.removeInLine(a.row,a.column-u.replaceBefore.length,a.column+u.replaceAfter.length),this.variables.M__=u.matchBefore,this.variables.T__=u.matchAfter,this.insertSnippetForSelection(e,u.content),this.variables.M__=this.variables.T__=null),!0):!1},i.prototype.findMatchingSnippet=function(e,t,a){for(var r=e.length;r--;){var s=e[r];if(!(s.startRe&&!s.startRe.test(t))&&!(s.endRe&&!s.endRe.test(a))&&!(!s.startRe&&!s.endRe))return s.matchBefore=s.startRe?s.startRe.exec(t):[""],s.matchAfter=s.endRe?s.endRe.exec(a):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(t)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(a)[0]:"",s}},i.prototype.register=function(e,t){var a=this.snippetMap,r=this.snippetNameMap,s=this;e||(e=[]);function c(o){return o&&!/^\^?\(.*\)\$?$|^\\b$/.test(o)&&(o="(?:"+o+")"),o||""}function n(o,d,l){return o=c(o),d=c(d),l?(o=d+o,o&&o[o.length-1]!="$"&&(o=o+"$")):(o=o+d,o&&o[0]!="^"&&(o="^"+o)),new RegExp(o)}function u(o){o.scope||(o.scope=t||"_"),t=o.scope,a[t]||(a[t]=[],r[t]={});var d=r[t];if(o.name){var l=d[o.name];l&&s.unregister(l),d[o.name]=o}a[t].push(o),o.prefix&&(o.tabTrigger=o.prefix),!o.content&&o.body&&(o.content=Array.isArray(o.body)?o.body.join(`
`):o.body),o.tabTrigger&&!o.trigger&&(!o.guard&&/^\w/.test(o.tabTrigger)&&(o.guard="\\b"),o.trigger=F.escapeRegExp(o.tabTrigger)),!(!o.trigger&&!o.guard&&!o.endTrigger&&!o.endGuard)&&(o.startRe=n(o.trigger,o.guard,!0),o.triggerRe=new RegExp(o.trigger),o.endRe=n(o.endTrigger,o.endGuard,!0),o.endTriggerRe=new RegExp(o.endTrigger))}Array.isArray(e)?e.forEach(u):Object.keys(e).forEach(function(o){u(e[o])}),this._signal("registerSnippets",{scope:t})},i.prototype.unregister=function(e,t){var a=this.snippetMap,r=this.snippetNameMap;function s(c){var n=r[c.scope||t];if(n&&n[c.name]){delete n[c.name];var u=a[c.scope||t],o=u&&u.indexOf(c);o>=0&&u.splice(o,1)}}e.content?s(e):Array.isArray(e)&&e.forEach(s)},i.prototype.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t=[],a={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,s;s=r.exec(e);){if(s[1])try{a=JSON.parse(s[1]),t.push(a)}catch{}if(s[4])a.content=s[4].replace(/^\t/gm,""),t.push(a),a={};else{var c=s[2],n=s[3];if(c=="regex"){var u=/\/((?:[^\/\\]|\\.)*)|$/g;a.guard=u.exec(n)[1],a.trigger=u.exec(n)[1],a.endTrigger=u.exec(n)[1],a.endGuard=u.exec(n)[1]}else c=="snippet"?(a.tabTrigger=n.match(/^\S*/)[0],a.name||(a.name=n)):c&&(a[c]=n)}}return t},i.prototype.getSnippetByName=function(e,t){var a=this.snippetNameMap,r;return this.getActiveScopes(t).some(function(s){var c=a[s];return c&&(r=c[e]),!!r},this),r},i}();B.implement(P.prototype,D);var p=function(i,e,t){t===void 0&&(t={});var a=i.getCursorPosition(),r=i.session.getLine(a.row),s=i.session.getTabString(),c=r.match(/^\s*/)[0];a.column<c.length&&(c=c.slice(0,a.column)),e=e.replace(/\r/g,"");var n=this.tokenizeTmSnippet(e);n=this.resolveVariables(n,i),n=n.map(function(b){return b==`
`&&!t.excludeExtraIndent?b+c:typeof b=="string"?b.replace(/\t/g,s):b});var u=[];n.forEach(function(b,C){if(typeof b=="object"){var R=b.tabstopId,S=u[R];if(S||(S=u[R]=[],S.index=R,S.value="",S.parents={}),S.indexOf(b)===-1){b.choices&&!S.choices&&(S.choices=b.choices),S.push(b);var V=n.indexOf(b,C+1);if(V!==-1){var z=n.slice(C+1,V),X=z.some(function(J){return typeof J=="object"});X&&!S.value?S.value=z:z.length&&(!S.value||typeof S.value!="string")&&(S.value=z.join(""))}}}}),u.forEach(function(b){b.length=0});var o={};function d(b){for(var C=[],R=0;R<b.length;R++){var S=b[R];if(typeof S=="object"){if(o[S.tabstopId])continue;var V=b.lastIndexOf(S,R-1);S=C[V]||{tabstopId:S.tabstopId}}C[R]=S}return C}for(var l=0;l<n.length;l++){var m=n[l];if(typeof m=="object"){var x=m.tabstopId,y=u[x],G=n.indexOf(m,l+1);if(o[x]){o[x]===m&&(delete o[x],Object.keys(o).forEach(function(b){y.parents[b]=!0}));continue}o[x]=m;var O=y.value;typeof O!="string"?O=d(O):m.fmt&&(O=this.tmStrFormat(O,m,i)),n.splice.apply(n,[l+1,Math.max(0,G-l)].concat(O,m)),y.indexOf(m)===-1&&y.push(m)}}var K=0,U=0,Y="";return n.forEach(function(b){if(typeof b=="string"){var C=b.split(`
`);C.length>1?(U=C[C.length-1].length,K+=C.length-1):U+=b.length,Y+=b}else b&&(b.start?b.end={row:K,column:U}:b.start={row:K,column:U})}),{text:Y,tabstops:u,tokens:n}},f=function(){function i(e){if(this.index=0,this.ranges=[],this.tabstops=[],e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=F.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)}return i.prototype.attach=function(e){this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.session=e.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},i.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},i.prototype.onChange=function(e){for(var t=e.action[0]=="r",a=this.selectedTabstop||{},r=a.parents||{},s=this.tabstops.slice(),c=0;c<s.length;c++){var n=s[c],u=n==a||r[n.index];if(n.rangeList.$bias=u?0:1,e.action=="remove"&&n!==a){var o=n.parents&&n.parents[a.index],d=n.rangeList.pointIndex(e.start,o);d=d<0?-d-1:d+1;var l=n.rangeList.pointIndex(e.end,o);l=l<0?-l-1:l-1;for(var m=n.rangeList.ranges.slice(d,l),x=0;x<m.length;x++)this.removeRange(m[x])}n.rangeList.$onChange(e)}var y=this.session;!this.$inChange&&t&&y.getLength()==1&&!y.getValue()&&this.detach()},i.prototype.updateLinkedFields=function(){var e=this.selectedTabstop;if(!(!e||!e.hasLinkedRanges||!e.firstNonLinked)){this.$inChange=!0;for(var t=this.session,a=t.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var s=e[r];if(s.linked){var c=s.original,n=v.snippetManager.tmStrFormat(a,c,this.editor);t.replace(s,n)}}this.$inChange=!1}},i.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},i.prototype.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,a=this.editor.selection.isEmpty(),r=0;r<this.ranges.length;r++)if(!this.ranges[r].linked){var s=this.ranges[r].contains(e.row,e.column),c=a||this.ranges[r].contains(t.row,t.column);if(s&&c)return}this.detach()}},i.prototype.onChangeSession=function(){this.detach()},i.prototype.tabNext=function(e){var t=this.tabstops.length,a=this.index+(e||1);a=Math.min(Math.max(a,1),t),a==t&&(a=0),this.selectTabstop(a),a===0&&this.detach()},i.prototype.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index],!(!t||!t.length)){this.selectedTabstop=t;var a=t.firstNonLinked||t;if(t.choices&&(a.cursor=a.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(a);else{var r=this.editor.multiSelect;r.toSingleRange(a);for(var s=0;s<t.length;s++)t.hasLinkedRanges&&t[s].linked||r.addRange(t[s].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},i.prototype.addTabstops=function(e,t,a){var r=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var s=L.fromPoints(a,a);g(s.start,t),g(s.end,t),e[0]=[s],e[0].index=0}var c=this.index,n=[c+1,0],u=this.ranges;e.forEach(function(o,d){for(var l=this.$openTabstops[d]||o,m=0;m<o.length;m++){var x=o[m],y=L.fromPoints(x.start,x.end||x.start);h(y.start,t),h(y.end,t),y.original=x,y.tabstop=l,u.push(y),l!=o?l.unshift(y):l[m]=y,x.fmtString||l.firstNonLinked&&r?(y.linked=!0,l.hasLinkedRanges=!0):l.firstNonLinked||(l.firstNonLinked=y)}l.firstNonLinked||(l.hasLinkedRanges=!1),l===o&&(n.push(l),this.$openTabstops[d]=l),this.addTabstopMarkers(l),l.rangeList=l.rangeList||new E,l.rangeList.$bias=0,l.rangeList.addList(l)},this),n.length>2&&(this.tabstops.length&&n.push(n.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,n))},i.prototype.addTabstopMarkers=function(e){var t=this.session;e.forEach(function(a){a.markerId||(a.markerId=t.addMarker(a,"ace_snippet-marker","text"))})},i.prototype.removeTabstopMarkers=function(e){var t=this.session;e.forEach(function(a){t.removeMarker(a.markerId),a.markerId=null})},i.prototype.removeRange=function(e){var t=e.tabstop.indexOf(e);t!=-1&&e.tabstop.splice(t,1),t=this.ranges.indexOf(e),t!=-1&&this.ranges.splice(t,1),t=e.tabstop.rangeList.ranges.indexOf(e),t!=-1&&e.tabstop.splice(t,1),this.session.removeMarker(e.markerId),e.tabstop.length||(t=this.tabstops.indexOf(e.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},i}();f.prototype.keyboardHandler=new A,f.prototype.keyboardHandler.bindKeys({Tab:function(i){v.snippetManager&&v.snippetManager.expandWithTab(i)||(i.tabstopManager.tabNext(1),i.renderer.scrollCursorIntoView())},"Shift-Tab":function(i){i.tabstopManager.tabNext(-1),i.renderer.scrollCursorIntoView()},Esc:function(i){i.tabstopManager.detach()}});var h=function(i,e){i.row==0&&(i.column+=e.column),i.row+=e.row},g=function(i,e){i.row==e.row&&(i.column-=e.column),i.row-=e.row};k.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),v.snippetManager=new P;var M=_("./editor").Editor;(function(){this.insertSnippet=function(i,e){return v.snippetManager.insertSnippet(this,i,e)},this.expandSnippet=function(i){return v.snippetManager.expandWithTab(this,i)}}).call(M.prototype)}),ace.define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","ace/config","resources","resources","tabStops","resources","utils","actions"],function(_,v,$){var k=_("../keyboard/hash_handler").HashHandler,B=_("../editor").Editor,D=_("../snippets").snippetManager,F=_("../range").Range,L=_("../config"),E,A,H=function(){function p(){}return p.prototype.setupContext=function(f){this.ace=f,this.indentation=f.session.getTabString(),E||(E=window.emmet);var h=E.resources||E.require("resources");h.setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},p.prototype.getSelectionRange=function(){var f=this.ace.getSelectionRange(),h=this.ace.session.doc;return{start:h.positionToIndex(f.start),end:h.positionToIndex(f.end)}},p.prototype.createSelection=function(f,h){var g=this.ace.session.doc;this.ace.selection.setRange({start:g.indexToPosition(f),end:g.indexToPosition(h)})},p.prototype.getCurrentLineRange=function(){var f=this.ace,h=f.getCursorPosition().row,g=f.session.getLine(h).length,M=f.session.doc.positionToIndex({row:h,column:0});return{start:M,end:M+g}},p.prototype.getCaretPos=function(){var f=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(f)},p.prototype.setCaretPos=function(f){var h=this.ace.session.doc.indexToPosition(f);this.ace.selection.moveToPosition(h)},p.prototype.getCurrentLine=function(){var f=this.ace.getCursorPosition().row;return this.ace.session.getLine(f)},p.prototype.replaceContent=function(f,h,g,M){g==null&&(g=h??this.getContent().length),h==null&&(h=0);var i=this.ace,e=i.session.doc,t=F.fromPoints(e.indexToPosition(h),e.indexToPosition(g));i.session.remove(t),t.end=t.start,f=this.$updateTabstops(f),D.insertSnippet(i,f)},p.prototype.getContent=function(){return this.ace.getValue()},p.prototype.getSyntax=function(){if(this.$syntax)return this.$syntax;var f=this.ace.session.$modeId.split("/").pop();if(f=="html"||f=="php"){var h=this.ace.getCursorPosition(),g=this.ace.session.getState(h.row);typeof g!="string"&&(g=g[0]),g&&(g=g.split("-"),g.length>1?f=g[0]:f=="php"&&(f="html"))}return f},p.prototype.getProfileName=function(){var f=E.resources||E.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"html":var h=f.getVariable("profile");return h||(h=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)!=-1?"xhtml":"html"),h;default:var g=this.ace.session.$mode;return g.emmetConfig&&g.emmetConfig.profile||"xhtml"}},p.prototype.prompt=function(f){return prompt(f)},p.prototype.getSelection=function(){return this.ace.session.getTextRange()},p.prototype.getFilePath=function(){return""},p.prototype.$updateTabstops=function(f){var h=1e3,g=0,M=null,i=E.tabStops||E.require("tabStops"),e=E.resources||E.require("resources"),t=e.getVocabulary("user"),a={tabstop:function(s){var c=parseInt(s.group,10),n=c===0;n?c=++g:c+=h;var u=s.placeholder;u&&(u=i.processText(u,a));var o="${"+c+(u?":"+u:"")+"}";return n&&(M=[s.start,o]),o},escape:function(s){return s=="$"?"\\$":s=="\\"?"\\\\":s}};if(f=i.processText(f,a),t.variables.insert_final_tabstop&&!/\$\{0\}$/.test(f))f+="${0}";else if(M){var r=E.utils?E.utils.common:E.require("utils");f=r.replaceSubstring(f,"${0}",M[0],M[1])}return f},p}(),I={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},w=new H;v.commands=new k,v.runEmmetCommand=function p(f){if(this.action=="expand_abbreviation_with_tab"){if(!f.selection.isEmpty())return!1;var h=f.selection.lead,g=f.session.getTokenAt(h.row,h.column);if(g&&/\btag\b/.test(g.type))return!1}try{w.setupContext(f);var M=E.actions||E.require("actions");if(this.action=="wrap_with_abbreviation")return setTimeout(function(){M.run("wrap_with_abbreviation",w)},0);var i=M.run(this.action,w)}catch(t){if(!E){var e=v.load(p.bind(this,f));return this.action=="expand_abbreviation_with_tab"?!1:e}f._signal("changeStatus",typeof t=="string"?t:t.message),L.warn(t),i=!1}return i};for(var T in I)v.commands.addCommand({name:"emmet:"+T,action:T,bindKey:I[T],exec:v.runEmmetCommand,multiSelectAction:"forEach"});v.updateCommands=function(p,f){f?p.keyBinding.addKeyboardHandler(v.commands):p.keyBinding.removeKeyboardHandler(v.commands)},v.isSupportedMode=function(p){if(!p)return!1;if(p.emmetConfig)return!0;var f=p.$id||p;return/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(f)},v.isAvailable=function(p,f){if(/(evaluate_math_expression|expand_abbreviation)$/.test(f))return!0;var h=p.session.$mode,g=v.isSupportedMode(h);if(g&&h.$modes)try{w.setupContext(p),/js|php/.test(w.getSyntax())&&(g=!1)}catch{}return g};var P=function(p,f){var h=f;if(h){var g=v.isSupportedMode(h.session.$mode);p.enableEmmet===!1&&(g=!1),g&&v.load(),v.updateCommands(h,g)}};v.load=function(p){return typeof A!="string"?(L.warn("script for emmet-core is not loaded"),!1):(L.loadModule(A,function(){A=null,p&&p()}),!0)},v.AceEmmetEditor=H,L.defineOptions(B.prototype,"editor",{enableEmmet:{set:function(p){this[p?"on":"removeListener"]("changeMode",P),P({enableEmmet:!!p},this)},value:!0}}),v.setCore=function(p){typeof p=="string"?A=p:E=p}}),function(){ace.require(["ace/ext/emmet"],function(_){N&&(N.exports=_)})}()})(W);var Z=W.exports;const ee=Q(Z),ne=q({__proto__:null,default:ee},[Z]);export{ne as e};
