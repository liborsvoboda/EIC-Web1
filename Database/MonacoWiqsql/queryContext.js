/*! For license information please see queryContext.js.LICENSE.txt */
(()=>{var e={11690:(e,t,n)=>{var r,o;r=[n,t,n(34663)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClient=function getClient(e,t){var r=t||{};return r.rootPath||(r.rootPath=n.getService("ms.vss-features.location-service").then((function(t){return e.RESOURCE_AREA_ID?t.getResourceAreaLocation(e.RESOURCE_AREA_ID):t.getServiceLocation()}))),r.authTokenProvider||(r.authTokenProvider={getAuthorizationHeader:function(){return n.getAccessToken().then((function(e){return e?"Bearer "+e:""}))}}),new e(r)}}.apply(t,r),void 0===o||(e.exports=o)},71023:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ExtensionDataService="ms.vss-features.extension-data-service",e.GlobalMessagesService="ms.vss-tfs-web.tfs-global-messages-service",e.HostNavigationService="ms.vss-features.host-navigation-service",e.HostPageLayoutService="ms.vss-features.host-page-layout-service",e.LocationService="ms.vss-features.location-service",e.ProjectPageService="ms.vss-tfs-web.tfs-page-data-service"}(t.CommonServiceIds||(t.CommonServiceIds={})),function(e){e[e.Deployment=1]="Deployment",e[e.Enterprise=2]="Enterprise",e[e.Organization=4]="Organization"}(t.TeamFoundationHostType||(t.TeamFoundationHostType={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(t.PanelSize||(t.PanelSize={})),function(e){e[e.info=0]="info",e[e.warning=1]="warning",e[e.error=2]="error",e[e.success=3]="success"}(t.MessageBannerLevel||(t.MessageBannerLevel={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},76101:(e,t,n)=>{var r,o;r=[n,t,n(11690),n(71023)],o=function(e,t,n,r){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n),__export(r)}.apply(t,r),void 0===o||(e.exports=o)},64584:(e,t,n)=>{var r,o;r=[n,t,n(76101)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n)}.apply(t,r),void 0===o||(e.exports=o)},34663:function(e,t,n){var r,o,i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};r=[n,t,n(64285)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkVersion=3;var r=window;r._AzureDevOpsSDKVersion&&console.error("The AzureDevOps SDK is already loaded. Only one version of this module can be loaded in a given document."),r._AzureDevOpsSDKVersion=t.sdkVersion,function(e){e[e.Deployment=1]="Deployment",e[e.Enterprise=2]="Enterprise",e[e.Organization=4]="Organization"}(t.HostType||(t.HostType={}));var o,c,u,l,f,h,p,d="DevOps.HostControl",v=n.channelManager.addChannel(window.parent),y=new Promise((function(e){p=e}));function dispatchEvent(e,t){var n,r=window;"function"==typeof r.CustomEvent?n=new r.CustomEvent(e,t):(t=t||{bubbles:!1,cancelable:!1},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail)),window.dispatchEvent(n)}function ready(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,y]}))}))}function getWaitForReadyError(e){return"Attempted to call "+e+"() before init() was complete. Wait for init to complete or place within a ready() callback."}function applyTheme(e){h||((h=document.createElement("style")).type="text/css",document.head.appendChild(h));var t=[];if(e)for(var n in e)t.push("--"+n+": "+e[n]);h.innerText=":root { "+t.join("; ")+" } body { color: var(--text-primary-color) }",dispatchEvent("themeApplied",{detail:e})}v.getObjectRegistry().register("DevOps.SdkClient",{dispatchEvent}),t.init=function init(e){return new Promise((function(n){var r=i({},e,{sdkVersion:t.sdkVersion});v.invokeRemoteMethod("initialHandshake",d,[r]).then((function(e){c=e.initialConfig||{},u=e.contributionId;var t=e.context;o=t.extension,l=t.user,f=t.host,e.themeData&&(applyTheme(e.themeData),window.addEventListener("themeChanged",(function(e){applyTheme(e.detail.data)}))),p(),n()}))}))},t.ready=ready,t.notifyLoadSucceeded=function notifyLoadSucceeded(){return v.invokeRemoteMethod("notifyLoadSucceeded",d)},t.notifyLoadFailed=function notifyLoadFailed(e){return v.invokeRemoteMethod("notifyLoadFailed",d,[e])},t.getConfiguration=function getConfiguration(){if(!c)throw new Error(getWaitForReadyError("getConfiguration"));return c},t.getContributionId=function getContributionId(){if(!u)throw new Error(getWaitForReadyError("getContributionId"));return u},t.getUser=function getUser(){if(!l)throw new Error(getWaitForReadyError("getUser"));return l},t.getHost=function getHost(){if(!f)throw new Error(getWaitForReadyError("getHost"));return f},t.getExtensionContext=function getExtensionContext(){if(!o)throw new Error(getWaitForReadyError("getExtensionContext"));return o},t.getService=function getService(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,ready().then((function(){return v.invokeRemoteMethod("getService","DevOps.ServiceManager",[e])}))]}))}))},t.register=function register(e,t){v.getObjectRegistry().register(e,t)},t.unregister=function unregister(e){v.getObjectRegistry().unregister(e)},t.getAccessToken=function getAccessToken(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,v.invokeRemoteMethod("getAccessToken",d).then((function(e){return e.token}))]}))}))},t.getAppToken=function getAppToken(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,v.invokeRemoteMethod("getAppToken",d).then((function(e){return e.token}))]}))}))},t.resize=function resize(e,t){var n=document.body;if(n){var r="number"==typeof e?e:n?n.scrollWidth:void 0,o="number"==typeof t?t:n?n.scrollHeight:void 0;v.invokeRemoteMethod("resize",d,[r,o])}},t.applyTheme=applyTheme}.apply(t,r),void 0===o||(e.exports=o)},64285:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};r=[n,t,n(77310),n(47097)],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=parseInt("10000000000",36),r=Number.MAX_SAFE_INTEGER||9007199254740991;var o=function(){function XDMObjectRegistry(){this.objects={}}return XDMObjectRegistry.prototype.register=function(e,t){this.objects[e]=t},XDMObjectRegistry.prototype.unregister=function(e){delete this.objects[e]},XDMObjectRegistry.prototype.getInstance=function(e,t){var n=this.objects[e];if(n)return"function"==typeof n?n(t):n},XDMObjectRegistry}();t.XDMObjectRegistry=o;var a=1,c=function(){function XDMChannel(e,t){this.promises={},this.nextMessageId=1,this.nextProxyId=1,this.proxyFunctions={},this.postToWindow=e,this.targetOrigin=t,this.registry=new o,this.channelId=a++,this.targetOrigin||(this.handshakeToken=function newFingerprint(){return Math.floor(Math.random()*(r-n)+n).toString(36)+Math.floor(Math.random()*(r-n)+n).toString(36)}())}return XDMChannel.prototype.getObjectRegistry=function(){return this.registry},XDMChannel.prototype.invokeRemoteMethod=function(e,t,n,r,o){return i(this,void 0,void 0,(function(){var i,a,c=this;return s(this,(function(s){return i={id:this.nextMessageId++,methodName:e,instanceId:t,instanceContext:r,params:this._customSerializeObject(n,o),serializationSettings:o},this.targetOrigin||(i.handshakeToken=this.handshakeToken),a=new Promise((function(e,t){c.promises[i.id]={resolve:e,reject:t}})),this._sendRpcMessage(i),[2,a]}))}))},XDMChannel.prototype.getRemoteObjectProxy=function(e,t){return this.invokeRemoteMethod("",e,void 0,t)},XDMChannel.prototype.invokeMethod=function(e,t){var n=this;if(t.methodName){var r=e[t.methodName];if("function"==typeof r)try{var o=[];t.params&&(o=this._customDeserializeObject(t.params,{}));var i=r.apply(e,o);i&&i.then&&"function"==typeof i.then?i.then((function(e){n._success(t,e,t.handshakeToken)}),(function(e){n.error(t,e)})):this._success(t,i,t.handshakeToken)}catch(e){this.error(t,e)}else this.error(t,new Error("RPC method not found: "+t.methodName))}else this._success(t,e,t.handshakeToken)},XDMChannel.prototype.getRegisteredObject=function(e,n){if("__proxyFunctions"===e)return this.proxyFunctions;var r=this.registry.getInstance(e,n);return r||(r=t.globalObjectRegistry.getInstance(e,n)),r},XDMChannel.prototype.onMessage=function(e){var t=this;if(e.instanceId){var n=this.getRegisteredObject(e.instanceId,e.instanceContext);if(!n)return!1;"function"==typeof n.then?n.then((function(n){t.invokeMethod(n,e)}),(function(n){t.error(e,n)})):this.invokeMethod(n,e)}else{var r=this.promises[e.id];if(!r)return!1;e.error?r.reject(this._customDeserializeObject([e.error],{})[0]):r.resolve(this._customDeserializeObject([e.result],{})[0]),delete this.promises[e.id]}return!0},XDMChannel.prototype.owns=function(e,t,n){if(this.postToWindow===e){if(this.targetOrigin)return!!t&&("null"===t.toLowerCase()||0===this.targetOrigin.toLowerCase().indexOf(t.toLowerCase()));if(n.handshakeToken&&n.handshakeToken===this.handshakeToken)return this.targetOrigin=t,!0}return!1},XDMChannel.prototype.error=function(e,t){this._sendRpcMessage({id:e.id,error:this._customSerializeObject([t],e.serializationSettings)[0],handshakeToken:e.handshakeToken})},XDMChannel.prototype._success=function(e,t,n){this._sendRpcMessage({id:e.id,result:this._customSerializeObject([t],e.serializationSettings)[0],handshakeToken:n})},XDMChannel.prototype._sendRpcMessage=function(e){this.postToWindow.postMessage(JSON.stringify(e),"*")},XDMChannel.prototype._customSerializeObject=function(e,t,n,r,o){var i=this;if(void 0===r&&(r=1),void 0===o&&(o=1),e&&!(o>100)&&!(e instanceof Node||e instanceof Window||e instanceof Event)){var s,a;(a=n||{newObjects:[],originalObjects:[]}).originalObjects.push(e);var serializeMember=function(n,s,c){var u;try{u=n[c]}catch(e){}var l=typeof u;if("undefined"!==l){var f=-1;if("object"===l&&(f=a.originalObjects.indexOf(u)),f>=0){var h=a.newObjects[f];h.__circularReferenceId||(h.__circularReferenceId=r++),s[c]={__circularReference:h.__circularReferenceId}}else if("function"===l){i.nextProxyId++;s[c]={__proxyFunctionId:i._registerProxyFunction(u,e),_channelId:i.channelId}}else"object"===l?u&&u instanceof Date?s[c]={__proxyDate:u.getTime()}:s[c]=i._customSerializeObject(u,t,a,r,o+1):"__proxyFunctionId"!==c&&(s[c]=u)}};if(e instanceof Array){s=[],a.newObjects.push(s);for(var c=0,u=e.length;c<u;c++)serializeMember(e,s,c)}else{s={},a.newObjects.push(s);var l={};try{l=function getAllPropertyNames(e){for(var t={};e&&e!==Object.prototype;){for(var n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var o=r[n];"constructor"!==o&&(t[o]=!0)}e=Object.getPrototypeOf(e)}return t}(e)}catch(e){}for(var f in l)(f&&"_"!==f[0]||t&&t.includeUnderscoreProperties)&&serializeMember(e,s,f)}return a.originalObjects.pop(),a.newObjects.pop(),s}},XDMChannel.prototype._registerProxyFunction=function(e,t){var n=this.nextProxyId++;return this.proxyFunctions["proxy"+n]=function(){return e.apply(t,Array.prototype.slice.call(arguments,0))},n},XDMChannel.prototype._customDeserializeObject=function(e,t){var n=this,r=this;if(!e)return null;var deserializeMember=function(e,o){var i=e[o],s=typeof i;"__circularReferenceId"===o&&"number"===s?(t[i]=e,delete e[o]):"object"===s&&i&&(i.__proxyFunctionId?e[o]=function(){return r.invokeRemoteMethod("proxy"+i.__proxyFunctionId,"__proxyFunctions",Array.prototype.slice.call(arguments,0),{},{includeUnderscoreProperties:!0})}:i.__proxyDate?e[o]=new Date(i.__proxyDate):i.__circularReference?e[o]=t[i.__circularReference]:n._customDeserializeObject(i,t))};if(e instanceof Array)for(var o=0,i=e.length;o<i;o++)deserializeMember(e,o);else if("object"==typeof e)for(var s in e)deserializeMember(e,s);return e},XDMChannel}();t.XDMChannel=c;var u=function(){function XDMChannelManager(){var e=this;this._channels=[],this._handleMessageReceived=function(t){var n;if("string"==typeof t.data)try{n=JSON.parse(t.data)}catch(e){}if(n){for(var r=!1,o=void 0,i=0,s=e._channels;i<s.length;i++){var a=s[i];a.owns(t.source,t.origin,n)&&(o=a,r=a.onMessage(n)||r)}o&&!r&&(window.console&&console.error("No handler found on any channel for message: "+JSON.stringify(n)),n.instanceId&&o.error(n,new Error("The registered object "+n.instanceId+" could not be found.")))}},window.addEventListener("message",this._handleMessageReceived)}return XDMChannelManager.prototype.addChannel=function(e,t){var n=new c(e,t);return this._channels.push(n),n},XDMChannelManager.prototype.removeChannel=function(e){this._channels=this._channels.filter((function(t){return t!==e}))},XDMChannelManager}();t.globalObjectRegistry=new o,t.channelManager=new u}.apply(t,r),void 0===o||(e.exports=o)},47097:(e,t,n)=>{"use strict";n(8091).polyfill()},8091:e=>{"use strict";function assign(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),s=0,a=i.length;s<a;s++){var c=i[s],u=Object.getOwnPropertyDescriptor(o,c);void 0!==u&&u.enumerable&&(n[c]=o[c])}}return n}e.exports={assign,polyfill:function polyfill(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}}},77310:(e,t,n)=>{"use strict";e.exports=n(82702).polyfill()},82702:function(e,t,n){e.exports=function(){"use strict";function objectOrFunction(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function isFunction(e){return"function"==typeof e}var e=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=0,r=void 0,o=void 0,i=function asap(e,n){f[t]=e,f[t+1]=n,2===(t+=2)&&(o?o(flush):h())};function setScheduler(e){o=e}function setAsap(e){i=e}var s="undefined"!=typeof window?window:void 0,a=s||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){return void 0!==r?function(){r(flush)}:useSetTimeout()}function useMutationObserver(){var e=0,t=new c(flush),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function useMessageChannel(){var e=new MessageChannel;return e.port1.onmessage=flush,function(){return e.port2.postMessage(0)}}function useSetTimeout(){var e=setTimeout;return function(){return e(flush,1)}}var f=new Array(1e3);function flush(){for(var e=0;e<t;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;t=0}function attemptVertx(){try{var e=Function("return this")().require("vertx");return r=e.runOnLoop||e.runOnContext,useVertxTimer()}catch(e){return useSetTimeout()}}var h=void 0;function then(e,t){var n=this,r=new this.constructor(noop);void 0===r[p]&&makePromise(r);var o=n._state;if(o){var s=arguments[o-1];i((function(){return invokeCallback(o,r,s,n._result)}))}else subscribe(n,r,e,t);return r}function resolve$1(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(noop);return resolve(n,e),n}h=u?useNextTick():c?useMutationObserver():l?useMessageChannel():void 0===s?attemptVertx():useSetTimeout();var p=Math.random().toString(36).substring(2);function noop(){}var d=void 0,v=1,y=2;function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function tryThen(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function handleForeignThenable(e,t,n){i((function(e){var r=!1,o=tryThen(n,t,(function(n){r||(r=!0,t!==n?resolve(e,n):fulfill(e,n))}),(function(t){r||(r=!0,reject(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,reject(e,o))}),e)}function handleOwnThenable(e,t){t._state===v?fulfill(e,t._result):t._state===y?reject(e,t._result):subscribe(t,void 0,(function(t){return resolve(e,t)}),(function(t){return reject(e,t)}))}function handleMaybeThenable(e,t,n){t.constructor===e.constructor&&n===then&&t.constructor.resolve===resolve$1?handleOwnThenable(e,t):void 0===n?fulfill(e,t):isFunction(n)?handleForeignThenable(e,t,n):fulfill(e,t)}function resolve(e,t){if(e===t)reject(e,selfFulfillment());else if(objectOrFunction(t)){var n=void 0;try{n=t.then}catch(t){return void reject(e,t)}handleMaybeThenable(e,t,n)}else fulfill(e,t)}function publishRejection(e){e._onerror&&e._onerror(e._result),publish(e)}function fulfill(e,t){e._state===d&&(e._result=t,e._state=v,0!==e._subscribers.length&&i(publish,e))}function reject(e,t){e._state===d&&(e._state=y,e._result=t,i(publishRejection,e))}function subscribe(e,t,n,r){var o=e._subscribers,s=o.length;e._onerror=null,o[s]=t,o[s+v]=n,o[s+y]=r,0===s&&e._state&&i(publish,e)}function publish(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?invokeCallback(n,r,o,i):o(i);e._subscribers.length=0}}function invokeCallback(e,t,n,r){var o=isFunction(n),i=void 0,s=void 0,a=!0;if(o){try{i=n(r)}catch(e){a=!1,s=e}if(t===i)return void reject(t,cannotReturnOwn())}else i=r;t._state!==d||(o&&a?resolve(t,i):!1===a?reject(t,s):e===v?fulfill(t,i):e===y&&reject(t,i))}function initializePromise(e,t){try{t((function resolvePromise(t){resolve(e,t)}),(function rejectPromise(t){reject(e,t)}))}catch(t){reject(e,t)}}var g=0;function nextId(){return g++}function makePromise(e){e[p]=g++,e._state=void 0,e._result=void 0,e._subscribers=[]}function validationError(){return new Error("Array Methods must be provided an Array")}var _=function(){function Enumerator(t,n){this._instanceConstructor=t,this.promise=new t(noop),this.promise[p]||makePromise(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,validationError())}return Enumerator.prototype._enumerate=function _enumerate(e){for(var t=0;this._state===d&&t<e.length;t++)this._eachEntry(e[t],t)},Enumerator.prototype._eachEntry=function _eachEntry(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===resolve$1){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===then&&e._state!==d)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===m){var a=new n(noop);s?reject(a,i):handleMaybeThenable(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},Enumerator.prototype._settledAt=function _settledAt(e,t,n){var r=this.promise;r._state===d&&(this._remaining--,e===y?reject(r,n):this._result[t]=n),0===this._remaining&&fulfill(r,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(e,t){var n=this;subscribe(e,void 0,(function(e){return n._settledAt(v,t,e)}),(function(e){return n._settledAt(y,t,e)}))},Enumerator}();function all(e){return new _(this,e).promise}function race(t){var n=this;return e(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function reject$1(e){var t=new this(noop);return reject(t,e),t}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var m=function(){function Promise(e){this[p]=nextId(),this._result=this._state=void 0,this._subscribers=[],noop!==e&&("function"!=typeof e&&needsResolver(),this instanceof Promise?initializePromise(this,e):needsNew())}return Promise.prototype.catch=function _catch(e){return this.then(null,e)},Promise.prototype.finally=function _finally(e){var t=this,n=t.constructor;return isFunction(e)?t.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):t.then(e,e)},Promise}();function polyfill(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=m}return m.prototype.then=then,m.all=all,m.race=race,m.resolve=resolve$1,m.reject=reject$1,m._setScheduler=setScheduler,m._setAsap=setAsap,m._asap=i,m.polyfill=polyfill,m.Promise=m,m}()}},t={};function __webpack_require__(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";var e=__webpack_require__(34663);const t=function finallyConstructor(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};const n=function allSettled(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function res(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if("function"==typeof i)return void i.call(n,(function(t){res(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--o&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--o&&t(r)}for(var i=0;i<r.length;i++)res(i,r[i])}))};function AggregateError(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}AggregateError.prototype=Error.prototype;const r=function any(e){var t=this;return new t((function(n,r){if(!e||void 0===e.length)return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return r();for(var i=[],s=0;s<o.length;s++)try{t.resolve(o[s]).then(n).catch((function(e){i.push(e),i.length===o.length&&r(new AggregateError(i,"All promises were rejected"))}))}catch(e){r(e)}}))};var o=setTimeout;function isArray(e){return Boolean(e&&void 0!==e.length)}function noop(){}function src_Promise(e){if(!(this instanceof src_Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,src_Promise._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void reject(t.promise,e)}resolve(t.promise,r)}else(1===e._state?resolve:reject)(t.promise,e._value)}))):e._deferreds.push(t)}function resolve(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof src_Promise)return e._state=3,e._value=t,void finale(e);if("function"==typeof n)return void doResolve(function bind(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&src_Promise._immediateFn((function(){e._handled||src_Promise._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e((function(e){n||(n=!0,resolve(t,e))}),(function(e){n||(n=!0,reject(t,e))}))}catch(e){if(n)return;n=!0,reject(t,e)}}src_Promise.prototype.catch=function(e){return this.then(null,e)},src_Promise.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},src_Promise.prototype.finally=t,src_Promise.all=function(e){return new src_Promise((function(t,n){if(!isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function res(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){res(e,t)}),n)}r[e]=i,0==--o&&t(r)}catch(e){n(e)}}for(var i=0;i<r.length;i++)res(i,r[i])}))},src_Promise.any=r,src_Promise.allSettled=n,src_Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===src_Promise?e:new src_Promise((function(t){t(e)}))},src_Promise.reject=function(e){return new src_Promise((function(t,n){n(e)}))},src_Promise.race=function(e){return new src_Promise((function(t,n){if(!isArray(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)src_Promise.resolve(e[r]).then(t,n)}))},src_Promise._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},src_Promise._unhandledRejectionFn=function _unhandledRejectionFn(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const i=src_Promise;var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();"function"!=typeof s.Promise?s.Promise=i:(s.Promise.prototype.finally||(s.Promise.prototype.finally=t),s.Promise.allSettled||(s.Promise.allSettled=n),s.Promise.any||(s.Promise.any=r));var a,c=__webpack_require__(64584),__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function showDialog(t){return __awaiter(this,void 0,void 0,(function(){var n,r,o,i,s,a=this;return __generator(this,(function(u){switch(u.label){case 0:return[4,e.getService(c.CommonServiceIds.HostPageLayoutService)];case 1:return n=u.sent(),function(){return __awaiter(a,void 0,void 0,(function(){return __generator(this,(function(e){throw new Error("ok callback not set")}))}))},function(){throw new Error("could not find close dialog function")},r={query:t,initialValue:!1,loaded:function(e){return __awaiter(a,void 0,void 0,(function(){return __generator(this,(function(t){return e.okCallback,[2]}))}))}},o={title:t.name,configuration:r,size:c.PanelSize.Large,onClose:function(e){}},i=e.getExtensionContext(),s=i.publisherId+"."+i.extensionId+".contextForm",n.openPanel(s,o),[2]}}))}))}!function(e){e.AssignedToMe="A2108D31-086C-4FB0-AFDA-097E4CC46DF4",e.UnsavedWorkItems="B7A26A56-EA87-4C97-A504-3F028808BB9F",e.FollowedWorkItems="202230E0-821E-401D-96D1-24A7202330D0",e.CreatedBy="53FB153F-C52C-42F1-90B6-CA17FC3561A8",e.SearchResults="2CBF5136-1AE5-4948-B59A-36F526D9AC73",e.CustomWiql="08E20883-D56C-4461-88EB-CE77C0C7936D",e.RecycleBin="2650C586-0DE4-4156-BA0E-14BCFB664CCA"}(a||(a={}));a.AssignedToMe,a.UnsavedWorkItems,a.FollowedWorkItems,a.CreatedBy,a.SearchResults,a.CustomWiql,a.RecycleBin;var u={execute:function(e){return showDialog(e.query),e&&e.query?{action:function(e){showDialog(e.query)}}:{}}};e.register("query-menu",u),e.register("query-results-menu",u),e.init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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USxTQUFDRCxHQUVMNUIsV0FBVzRCLEVBQWMzQixNQUM3QixHQU5PLENBQUMsQ0FRaEIsR0FHSixXQUFhLGFBQWN5QixHQUMzQixXQUFhLHFCQUFzQkEsR0FDbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93aXFsLWVkaXRvci8uL25vZGVfbW9kdWxlcy9henVyZS1kZXZvcHMtZXh0ZW5zaW9uLWFwaS9Db21tb24vQ2xpZW50LmpzIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2F6dXJlLWRldm9wcy1leHRlbnNpb24tYXBpL0NvbW1vbi9Db21tb25TZXJ2aWNlcy5qcyIsIndlYnBhY2s6Ly93aXFsLWVkaXRvci8uL25vZGVfbW9kdWxlcy9henVyZS1kZXZvcHMtZXh0ZW5zaW9uLWFwaS9Db21tb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvYXp1cmUtZGV2b3BzLWV4dGVuc2lvbi1hcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvYXp1cmUtZGV2b3BzLWV4dGVuc2lvbi1zZGsvU0RLLmpzIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2F6dXJlLWRldm9wcy1leHRlbnNpb24tc2RrL1hETS5qcyIsIndlYnBhY2s6Ly93aXFsLWVkaXRvci8uL25vZGVfbW9kdWxlcy9lczYtb2JqZWN0LWFzc2lnbi9hdXRvLmpzIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2VzNi1vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlL2F1dG8uanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly93aXFsLWVkaXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93aXFsLWVkaXRvci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2ZpbmFsbHkuanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvYWxsU2V0dGxlZC5qcyIsIndlYnBhY2s6Ly93aXFsLWVkaXRvci8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9hbnkuanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vd2lxbC1lZGl0b3IvLi9zY3JpcHRzL3F1ZXJ5RWRpdG9yL3F1ZXJ5RGlhbG9nLnRzIiwid2VicGFjazovL3dpcWwtZWRpdG9yLy4vc2NyaXB0cy9xdWVyeUNvbnRleHQvcXVlcnlDb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcImF6dXJlLWRldm9wcy1leHRlbnNpb24tc2RrXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgYXp1cmVfZGV2b3BzX2V4dGVuc2lvbl9zZGtfMSkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbiAgICBmdW5jdGlvbiBnZXRDbGllbnQoY2xpZW50Q2xhc3MsIGNsaWVudE9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGNsaWVudE9wdGlvbnMgfHwge307XHJcbiAgICAgICAgaWYgKCFvcHRpb25zLnJvb3RQYXRoKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucm9vdFBhdGggPSBhenVyZV9kZXZvcHNfZXh0ZW5zaW9uX3Nka18xLmdldFNlcnZpY2UoXCJtcy52c3MtZmVhdHVyZXMubG9jYXRpb24tc2VydmljZVwiIC8qIExvY2F0aW9uU2VydmljZSAqLykudGhlbihmdW5jdGlvbiAobG9jYXRpb25TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xpZW50Q2xhc3MuUkVTT1VSQ0VfQVJFQV9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvblNlcnZpY2UuZ2V0UmVzb3VyY2VBcmVhTG9jYXRpb24oY2xpZW50Q2xhc3MuUkVTT1VSQ0VfQVJFQV9JRCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb25TZXJ2aWNlLmdldFNlcnZpY2VMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvcHRpb25zLmF1dGhUb2tlblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXV0aFRva2VuUHJvdmlkZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBdXRob3JpemF0aW9uSGVhZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF6dXJlX2Rldm9wc19leHRlbnNpb25fc2RrXzEuZ2V0QWNjZXNzVG9rZW4oKS50aGVuKGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4gPyAoXCJCZWFyZXIgXCIgKyB0b2tlbikgOiBcIlwiOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjbGllbnRDbGFzcyhvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuZ2V0Q2xpZW50ID0gZ2V0Q2xpZW50O1xyXG59KTtcclxuIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAvKipcclxuICAgICAqIENvbnRyaWJ1dGlvbiBpZHMgb2YgY29yZSBEZXZPcHMgc2VydmljZXMgd2hpY2ggY2FuIGJlIG9idGFpbmVkIGZyb20gRGV2T3BzLmdldFNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgdmFyIENvbW1vblNlcnZpY2VJZHM7XHJcbiAgICAoZnVuY3Rpb24gKENvbW1vblNlcnZpY2VJZHMpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXJ2aWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBleHRlbnNpb24gZGF0YSBzZXJ2aWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgQ29tbW9uU2VydmljZUlkc1tcIkV4dGVuc2lvbkRhdGFTZXJ2aWNlXCJdID0gXCJtcy52c3MtZmVhdHVyZXMuZXh0ZW5zaW9uLWRhdGEtc2VydmljZVwiO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNlcnZpY2UgZm9yIHNob3dpbmcgZ2xvYmFsIG1lc3NhZ2UgYmFubmVycyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgQ29tbW9uU2VydmljZUlkc1tcIkdsb2JhbE1lc3NhZ2VzU2VydmljZVwiXSA9IFwibXMudnNzLXRmcy13ZWIudGZzLWdsb2JhbC1tZXNzYWdlcy1zZXJ2aWNlXCI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2VydmljZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgaG9zdCB3aW5kb3cncyBuYXZpZ2F0aW9uIChVUkxzLCBuZXcgd2luZG93cywgZXRjLilcclxuICAgICAgICAgKi9cclxuICAgICAgICBDb21tb25TZXJ2aWNlSWRzW1wiSG9zdE5hdmlnYXRpb25TZXJ2aWNlXCJdID0gXCJtcy52c3MtZmVhdHVyZXMuaG9zdC1uYXZpZ2F0aW9uLXNlcnZpY2VcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXJ2aWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBsYXlvdXQgb2YgdGhlIHBhZ2U6IG1hbmFnaW5nIGZ1bGwtc2NyZWVuIG1vZGUsXHJcbiAgICAgICAgICogb3BlbmluZyBkaWFsb2dzIGFuZCBwYW5lbHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBDb21tb25TZXJ2aWNlSWRzW1wiSG9zdFBhZ2VMYXlvdXRTZXJ2aWNlXCJdID0gXCJtcy52c3MtZmVhdHVyZXMuaG9zdC1wYWdlLWxheW91dC1zZXJ2aWNlXCI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2VydmljZSBmb3IgZ2V0dGluZyBVUkxzL2xvY2F0aW9ucyBmcm9tIHRoZSBob3N0IGNvbnRleHRcclxuICAgICAgICAgKi9cclxuICAgICAgICBDb21tb25TZXJ2aWNlSWRzW1wiTG9jYXRpb25TZXJ2aWNlXCJdID0gXCJtcy52c3MtZmVhdHVyZXMubG9jYXRpb24tc2VydmljZVwiO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV4cG9zZXMgcHJvamVjdC1yZWxhdGVkIGluZm9ybWF0aW9uIGZyb20gdGhlIGN1cnJlbnQgcGFnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIENvbW1vblNlcnZpY2VJZHNbXCJQcm9qZWN0UGFnZVNlcnZpY2VcIl0gPSBcIm1zLnZzcy10ZnMtd2ViLnRmcy1wYWdlLWRhdGEtc2VydmljZVwiO1xyXG4gICAgfSkoQ29tbW9uU2VydmljZUlkcyA9IGV4cG9ydHMuQ29tbW9uU2VydmljZUlkcyB8fCAoZXhwb3J0cy5Db21tb25TZXJ2aWNlSWRzID0ge30pKTtcclxuICAgIC8qKlxyXG4gICAgICogSG9zdCBsZXZlbCBmb3IgYSBWU1Mgc2VydmljZVxyXG4gICAgICovXHJcbiAgICB2YXIgVGVhbUZvdW5kYXRpb25Ib3N0VHlwZTtcclxuICAgIChmdW5jdGlvbiAoVGVhbUZvdW5kYXRpb25Ib3N0VHlwZSkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBEZXBsb3ltZW50IGhvc3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBUZWFtRm91bmRhdGlvbkhvc3RUeXBlW1RlYW1Gb3VuZGF0aW9uSG9zdFR5cGVbXCJEZXBsb3ltZW50XCJdID0gMV0gPSBcIkRlcGxveW1lbnRcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgRW50ZXJwcmlzZSBob3N0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgVGVhbUZvdW5kYXRpb25Ib3N0VHlwZVtUZWFtRm91bmRhdGlvbkhvc3RUeXBlW1wiRW50ZXJwcmlzZVwiXSA9IDJdID0gXCJFbnRlcnByaXNlXCI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG9yZ2FuaXphdGlvbi9wcm9qZWN0IGNvbGxlY3Rpb24gaG9zdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFRlYW1Gb3VuZGF0aW9uSG9zdFR5cGVbVGVhbUZvdW5kYXRpb25Ib3N0VHlwZVtcIk9yZ2FuaXphdGlvblwiXSA9IDRdID0gXCJPcmdhbml6YXRpb25cIjtcclxuICAgIH0pKFRlYW1Gb3VuZGF0aW9uSG9zdFR5cGUgPSBleHBvcnRzLlRlYW1Gb3VuZGF0aW9uSG9zdFR5cGUgfHwgKGV4cG9ydHMuVGVhbUZvdW5kYXRpb25Ib3N0VHlwZSA9IHt9KSk7XHJcbiAgICAvKipcclxuICAgICAqIFNpemUgKHdpZHRoKSBvcHRpb25zIGZvciBwYW5lbFxyXG4gICAgICovXHJcbiAgICB2YXIgUGFuZWxTaXplO1xyXG4gICAgKGZ1bmN0aW9uIChQYW5lbFNpemUpIHtcclxuICAgICAgICBQYW5lbFNpemVbUGFuZWxTaXplW1wiU21hbGxcIl0gPSAwXSA9IFwiU21hbGxcIjtcclxuICAgICAgICBQYW5lbFNpemVbUGFuZWxTaXplW1wiTWVkaXVtXCJdID0gMV0gPSBcIk1lZGl1bVwiO1xyXG4gICAgICAgIFBhbmVsU2l6ZVtQYW5lbFNpemVbXCJMYXJnZVwiXSA9IDJdID0gXCJMYXJnZVwiO1xyXG4gICAgfSkoUGFuZWxTaXplID0gZXhwb3J0cy5QYW5lbFNpemUgfHwgKGV4cG9ydHMuUGFuZWxTaXplID0ge30pKTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNldmVyaXR5IG9mIHRoZSBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICB2YXIgTWVzc2FnZUJhbm5lckxldmVsO1xyXG4gICAgKGZ1bmN0aW9uIChNZXNzYWdlQmFubmVyTGV2ZWwpIHtcclxuICAgICAgICBNZXNzYWdlQmFubmVyTGV2ZWxbTWVzc2FnZUJhbm5lckxldmVsW1wiaW5mb1wiXSA9IDBdID0gXCJpbmZvXCI7XHJcbiAgICAgICAgTWVzc2FnZUJhbm5lckxldmVsW01lc3NhZ2VCYW5uZXJMZXZlbFtcIndhcm5pbmdcIl0gPSAxXSA9IFwid2FybmluZ1wiO1xyXG4gICAgICAgIE1lc3NhZ2VCYW5uZXJMZXZlbFtNZXNzYWdlQmFubmVyTGV2ZWxbXCJlcnJvclwiXSA9IDJdID0gXCJlcnJvclwiO1xyXG4gICAgICAgIE1lc3NhZ2VCYW5uZXJMZXZlbFtNZXNzYWdlQmFubmVyTGV2ZWxbXCJzdWNjZXNzXCJdID0gM10gPSBcInN1Y2Nlc3NcIjtcclxuICAgIH0pKE1lc3NhZ2VCYW5uZXJMZXZlbCA9IGV4cG9ydHMuTWVzc2FnZUJhbm5lckxldmVsIHx8IChleHBvcnRzLk1lc3NhZ2VCYW5uZXJMZXZlbCA9IHt9KSk7XHJcbn0pO1xyXG4iLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL0NsaWVudFwiLCBcIi4vQ29tbW9uU2VydmljZXNcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBDbGllbnRfMSwgQ29tbW9uU2VydmljZXNfMSkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4gICAgX19leHBvcnQoQ2xpZW50XzEpO1xyXG4gICAgX19leHBvcnQoQ29tbW9uU2VydmljZXNfMSk7XHJcbn0pO1xyXG4iLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL0NvbW1vbi9pbmRleFwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGluZGV4XzEpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgIF9fZXhwb3J0KGluZGV4XzEpO1xyXG59KTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5kZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL1hETVwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFhETV8xKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgIC8qKlxyXG4gICAgICogV2ViIFNESyB2ZXJzaW9uIG51bWJlci4gQ2FuIGJlIHNwZWNpZmllZCBpbiBhbiBleHRlbnNpb24ncyBzZXQgb2YgZGVtYW5kcyBsaWtlOiB2c3Mtc2RrLXZlcnNpb24vMy4wXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydHMuc2RrVmVyc2lvbiA9IDMuMDtcclxuICAgIHZhciBnbG9iYWwgPSB3aW5kb3c7XHJcbiAgICBpZiAoZ2xvYmFsLl9BenVyZURldk9wc1NES1ZlcnNpb24pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIEF6dXJlRGV2T3BzIFNESyBpcyBhbHJlYWR5IGxvYWRlZC4gT25seSBvbmUgdmVyc2lvbiBvZiB0aGlzIG1vZHVsZSBjYW4gYmUgbG9hZGVkIGluIGEgZ2l2ZW4gZG9jdW1lbnQuXCIpO1xyXG4gICAgfVxyXG4gICAgZ2xvYmFsLl9BenVyZURldk9wc1NES1ZlcnNpb24gPSBleHBvcnRzLnNka1ZlcnNpb247XHJcbiAgICAvKipcclxuICAgICAqIERldk9wcyBob3N0IGxldmVsXHJcbiAgICAgKi9cclxuICAgIHZhciBIb3N0VHlwZTtcclxuICAgIChmdW5jdGlvbiAoSG9zdFR5cGUpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgRGVwbG95bWVudCBob3N0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgSG9zdFR5cGVbSG9zdFR5cGVbXCJEZXBsb3ltZW50XCJdID0gMV0gPSBcIkRlcGxveW1lbnRcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgRW50ZXJwcmlzZSBob3N0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgSG9zdFR5cGVbSG9zdFR5cGVbXCJFbnRlcnByaXNlXCJdID0gMl0gPSBcIkVudGVycHJpc2VcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgb3JnYW5pemF0aW9uIGhvc3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBIb3N0VHlwZVtIb3N0VHlwZVtcIk9yZ2FuaXphdGlvblwiXSA9IDRdID0gXCJPcmdhbml6YXRpb25cIjtcclxuICAgIH0pKEhvc3RUeXBlID0gZXhwb3J0cy5Ib3N0VHlwZSB8fCAoZXhwb3J0cy5Ib3N0VHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgaG9zdENvbnRyb2xJZCA9IFwiRGV2T3BzLkhvc3RDb250cm9sXCI7XHJcbiAgICB2YXIgc2VydmljZU1hbmFnZXJJZCA9IFwiRGV2T3BzLlNlcnZpY2VNYW5hZ2VyXCI7XHJcbiAgICB2YXIgcGFyZW50Q2hhbm5lbCA9IFhETV8xLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwod2luZG93LnBhcmVudCk7XHJcbiAgICB2YXIgZXh0ZW5zaW9uQ29udGV4dDtcclxuICAgIHZhciBpbml0aWFsQ29uZmlndXJhdGlvbjtcclxuICAgIHZhciBpbml0aWFsQ29udHJpYnV0aW9uSWQ7XHJcbiAgICB2YXIgdXNlckNvbnRleHQ7XHJcbiAgICB2YXIgaG9zdENvbnRleHQ7XHJcbiAgICB2YXIgdGhlbWVFbGVtZW50O1xyXG4gICAgdmFyIHJlc29sdmVSZWFkeTtcclxuICAgIHZhciByZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgIHJlc29sdmVSZWFkeSA9IHJlc29sdmU7XHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBtZXRob2Qgc28gdGhhdCB0aGUgaG9zdCBmcmFtZSBjYW4gaW52b2tlIGV2ZW50c1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIGdsb2JhbCA9IHdpbmRvdztcclxuICAgICAgICB2YXIgZXZ0O1xyXG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsLkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgZXZ0ID0gbmV3IGdsb2JhbC5DdXN0b21FdmVudChldmVudE5hbWUsIHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XHJcbiAgICAgICAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnROYW1lLCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldnQpO1xyXG4gICAgfVxyXG4gICAgcGFyZW50Q2hhbm5lbC5nZXRPYmplY3RSZWdpc3RyeSgpLnJlZ2lzdGVyKFwiRGV2T3BzLlNka0NsaWVudFwiLCB7XHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudFxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlcyB0aGUgaGFuZHNoYWtlIHdpdGggdGhlIGhvc3Qgd2luZG93LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gSW5pdGlhbGl6YXRpb24gb3B0aW9ucyBmb3IgdGhlIGV4dGVuc2lvbi5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbml0T3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IHNka1ZlcnNpb246IGV4cG9ydHMuc2RrVmVyc2lvbiB9KTtcclxuICAgICAgICAgICAgcGFyZW50Q2hhbm5lbC5pbnZva2VSZW1vdGVNZXRob2QoXCJpbml0aWFsSGFuZHNoYWtlXCIsIGhvc3RDb250cm9sSWQsIFtpbml0T3B0aW9uc10pLnRoZW4oZnVuY3Rpb24gKGhhbmRzaGFrZURhdGEpIHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxDb25maWd1cmF0aW9uID0gaGFuZHNoYWtlRGF0YS5pbml0aWFsQ29uZmlnIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbENvbnRyaWJ1dGlvbklkID0gaGFuZHNoYWtlRGF0YS5jb250cmlidXRpb25JZDtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gaGFuZHNoYWtlRGF0YS5jb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uQ29udGV4dCA9IGNvbnRleHQuZXh0ZW5zaW9uO1xyXG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHQgPSBjb250ZXh0LnVzZXI7XHJcbiAgICAgICAgICAgICAgICBob3N0Q29udGV4dCA9IGNvbnRleHQuaG9zdDtcclxuICAgICAgICAgICAgICAgIGlmIChoYW5kc2hha2VEYXRhLnRoZW1lRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5VGhlbWUoaGFuZHNoYWtlRGF0YS50aGVtZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGhlbWVDaGFuZ2VkXCIsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRoZW1lKGV2LmRldGFpbC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVSZWFkeSgpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuaW5pdCA9IGluaXQ7XHJcbiAgICAvKipcclxuICAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIG9uY2UgdGhlIGluaXRpYWwgc2V0dXAvaGFuZHNoYWtlIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAqIElmIHRoZSBpbml0aWFsIHNldHVwIGlzIGFscmVhZHkgY29tcGxldGVkLCB0aGUgY2FsbGJhY2sgaXMgaW52b2tlZCBhdCB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGNhbGwgc3RhY2suXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVhZHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVhZHlQcm9taXNlXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBleHBvcnRzLnJlYWR5ID0gcmVhZHk7XHJcbiAgICAvKipcclxuICAgICogTm90aWZpZXMgdGhlIGhvc3QgdGhhdCB0aGUgZXh0ZW5zaW9uIHN1Y2Nlc3NmdWxseSBsb2FkZWQgKHN0b3Agc2hvd2luZyB0aGUgbG9hZGluZyBpbmRpY2F0b3IpXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbm90aWZ5TG9hZFN1Y2NlZWRlZCgpIHtcclxuICAgICAgICByZXR1cm4gcGFyZW50Q2hhbm5lbC5pbnZva2VSZW1vdGVNZXRob2QoXCJub3RpZnlMb2FkU3VjY2VlZGVkXCIsIGhvc3RDb250cm9sSWQpO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0cy5ub3RpZnlMb2FkU3VjY2VlZGVkID0gbm90aWZ5TG9hZFN1Y2NlZWRlZDtcclxuICAgIC8qKlxyXG4gICAgKiBOb3RpZmllcyB0aGUgaG9zdCB0aGF0IHRoZSBleHRlbnNpb24gZmFpbGVkIHRvIGxvYWRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBub3RpZnlMb2FkRmFpbGVkKGUpIHtcclxuICAgICAgICByZXR1cm4gcGFyZW50Q2hhbm5lbC5pbnZva2VSZW1vdGVNZXRob2QoXCJub3RpZnlMb2FkRmFpbGVkXCIsIGhvc3RDb250cm9sSWQsIFtlXSk7XHJcbiAgICB9XHJcbiAgICBleHBvcnRzLm5vdGlmeUxvYWRGYWlsZWQgPSBub3RpZnlMb2FkRmFpbGVkO1xyXG4gICAgZnVuY3Rpb24gZ2V0V2FpdEZvclJlYWR5RXJyb3IobWV0aG9kKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiQXR0ZW1wdGVkIHRvIGNhbGwgXCIgKyBtZXRob2QgKyBcIigpIGJlZm9yZSBpbml0KCkgd2FzIGNvbXBsZXRlLiBXYWl0IGZvciBpbml0IHRvIGNvbXBsZXRlIG9yIHBsYWNlIHdpdGhpbiBhIHJlYWR5KCkgY2FsbGJhY2suXCI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGRhdGEgcGFzc2VkIGluIHRoZSBpbml0aWFsIGhhbmRzaGFrZSBmcm9tIHRoZSBwYXJlbnQgZnJhbWVcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRDb25maWd1cmF0aW9uKCkge1xyXG4gICAgICAgIGlmICghaW5pdGlhbENvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldFdhaXRGb3JSZWFkeUVycm9yKFwiZ2V0Q29uZmlndXJhdGlvblwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbml0aWFsQ29uZmlndXJhdGlvbjtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuZ2V0Q29uZmlndXJhdGlvbiA9IGdldENvbmZpZ3VyYXRpb247XHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbnRyaWJ1dGlvbiB0aGF0IGZpcnN0IGNhdXNlZCB0aGlzIGV4dGVuc2lvbiB0byBsb2FkLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldENvbnRyaWJ1dGlvbklkKCkge1xyXG4gICAgICAgIGlmICghaW5pdGlhbENvbnRyaWJ1dGlvbklkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRXYWl0Rm9yUmVhZHlFcnJvcihcImdldENvbnRyaWJ1dGlvbklkXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluaXRpYWxDb250cmlidXRpb25JZDtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuZ2V0Q29udHJpYnV0aW9uSWQgPSBnZXRDb250cmlidXRpb25JZDtcclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IHVzZXJcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG4gICAgICAgIGlmICghdXNlckNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldFdhaXRGb3JSZWFkeUVycm9yKFwiZ2V0VXNlclwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1c2VyQ29udGV4dDtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuZ2V0VXNlciA9IGdldFVzZXI7XHJcbiAgICAvKipcclxuICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaG9zdCAoaS5lLiBhbiBBenVyZSBEZXZPcHMgb3JnYW5pemF0aW9uKSB0aGF0IHRoZSBwYWdlIGlzIHRhcmdldGluZ1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEhvc3QoKSB7XHJcbiAgICAgICAgaWYgKCFob3N0Q29udGV4dCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0V2FpdEZvclJlYWR5RXJyb3IoXCJnZXRIb3N0XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhvc3RDb250ZXh0O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0cy5nZXRIb3N0ID0gZ2V0SG9zdDtcclxuICAgIC8qKlxyXG4gICAgKiBHZXQgdGhlIGNvbnRleHQgYWJvdXQgdGhlIGV4dGVuc2lvbiB0aGF0IG93bnMgdGhlIGNvbnRlbnQgdGhhdCBpcyBiZWluZyBob3N0ZWRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRFeHRlbnNpb25Db250ZXh0KCkge1xyXG4gICAgICAgIGlmICghZXh0ZW5zaW9uQ29udGV4dCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0V2FpdEZvclJlYWR5RXJyb3IoXCJnZXRFeHRlbnNpb25Db250ZXh0XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbkNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBleHBvcnRzLmdldEV4dGVuc2lvbkNvbnRleHQgPSBnZXRFeHRlbnNpb25Db250ZXh0O1xyXG4gICAgLyoqXHJcbiAgICAqIEdldCB0aGUgY29udHJpYnV0aW9uIHdpdGggdGhlIGdpdmVuIGNvbnRyaWJ1dGlvbiBpZC4gVGhlIHJldHVybmVkIGNvbnRyaWJ1dGlvbiBoYXMgYSBtZXRob2QgdG8gZ2V0IGEgcmVnaXN0ZXJlZCBvYmplY3Qgd2l0aGluIHRoYXQgY29udHJpYnV0aW9uLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0gY29udHJpYnV0aW9uSWQgLSBJZCBvZiB0aGUgY29udHJpYnV0aW9uIHRvIGdldFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2UoY29udHJpYnV0aW9uSWQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50Q2hhbm5lbC5pbnZva2VSZW1vdGVNZXRob2QoXCJnZXRTZXJ2aWNlXCIsIHNlcnZpY2VNYW5hZ2VySWQsIFtjb250cmlidXRpb25JZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBleHBvcnRzLmdldFNlcnZpY2UgPSBnZXRTZXJ2aWNlO1xyXG4gICAgLyoqXHJcbiAgICAqIFJlZ2lzdGVyIGFuIG9iamVjdCAoaW5zdGFuY2Ugb3IgZmFjdG9yeSBtZXRob2QpIHRoYXQgdGhpcyBleHRlbnNpb24gZXhwb3NlcyB0byB0aGUgaG9zdCBmcmFtZS5cclxuICAgICpcclxuICAgICogQHBhcmFtIGluc3RhbmNlSWQgLSB1bmlxdWUgaWQgb2YgdGhlIHJlZ2lzdGVyZWQgb2JqZWN0XHJcbiAgICAqIEBwYXJhbSBpbnN0YW5jZSAtIEVpdGhlcjogKDEpIGFuIG9iamVjdCBpbnN0YW5jZSwgb3IgKDIpIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBjb250ZXh0IGRhdGEgYW5kIHJldHVybnMgYW4gb2JqZWN0IGluc3RhbmNlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKGluc3RhbmNlSWQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgcGFyZW50Q2hhbm5lbC5nZXRPYmplY3RSZWdpc3RyeSgpLnJlZ2lzdGVyKGluc3RhbmNlSWQsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGV4cG9ydHMucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmVzIGFuIG9iamVjdCB0aGF0IHRoaXMgZXh0ZW5zaW9uIGV4cG9zZWQgdG8gdGhlIGhvc3QgZnJhbWUuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSBpbnN0YW5jZUlkIC0gdW5pcXVlIGlkIG9mIHRoZSByZWdpc3RlcmVkIG9iamVjdFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXIoaW5zdGFuY2VJZCkge1xyXG4gICAgICAgIHBhcmVudENoYW5uZWwuZ2V0T2JqZWN0UmVnaXN0cnkoKS51bnJlZ2lzdGVyKGluc3RhbmNlSWQpO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0cy51bnJlZ2lzdGVyID0gdW5yZWdpc3RlcjtcclxuICAgIC8qKlxyXG4gICAgKiBGZXRjaCBhbiBhY2Nlc3MgdG9rZW4gd2hpY2ggd2lsbCBhbGxvdyBjYWxscyB0byBiZSBtYWRlIHRvIG90aGVyIERldk9wcyBzZXJ2aWNlc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHBhcmVudENoYW5uZWwuaW52b2tlUmVtb3RlTWV0aG9kKFwiZ2V0QWNjZXNzVG9rZW5cIiwgaG9zdENvbnRyb2xJZCkudGhlbihmdW5jdGlvbiAodG9rZW5PYmopIHsgcmV0dXJuIHRva2VuT2JqLnRva2VuOyB9KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0cy5nZXRBY2Nlc3NUb2tlbiA9IGdldEFjY2Vzc1Rva2VuO1xyXG4gICAgLyoqXHJcbiAgICAqIEZldGNoIGFuIHRva2VuIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHRoZSBjdXJyZW50IHVzZXJcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRBcHBUb2tlbigpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBwYXJlbnRDaGFubmVsLmludm9rZVJlbW90ZU1ldGhvZChcImdldEFwcFRva2VuXCIsIGhvc3RDb250cm9sSWQpLnRoZW4oZnVuY3Rpb24gKHRva2VuT2JqKSB7IHJldHVybiB0b2tlbk9iai50b2tlbjsgfSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGV4cG9ydHMuZ2V0QXBwVG9rZW4gPSBnZXRBcHBUb2tlbjtcclxuICAgIC8qKlxyXG4gICAgKiBSZXF1ZXN0cyB0aGUgcGFyZW50IHdpbmRvdyB0byByZXNpemUgdGhlIGNvbnRhaW5lciBmb3IgdGhpcyBleHRlbnNpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgZXh0ZW5zaW9uIHNpemUuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB3aWR0aCAtIE9wdGlvbmFsIHdpZHRoLCBkZWZhdWx0cyB0byBzY3JvbGxXaWR0aFxyXG4gICAgKiBAcGFyYW0gaGVpZ2h0IC0gT3B0aW9uYWwgaGVpZ2h0LCBkZWZhdWx0cyB0byBzY3JvbGxIZWlnaHRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICBpZiAoYm9keSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3V2lkdGggPSB0eXBlb2Ygd2lkdGggPT09IFwibnVtYmVyXCIgPyB3aWR0aCA6IChib2R5ID8gYm9keS5zY3JvbGxXaWR0aCA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIHZhciBuZXdIZWlnaHQgPSB0eXBlb2YgaGVpZ2h0ID09PSBcIm51bWJlclwiID8gaGVpZ2h0IDogKGJvZHkgPyBib2R5LnNjcm9sbEhlaWdodCA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIHBhcmVudENoYW5uZWwuaW52b2tlUmVtb3RlTWV0aG9kKFwicmVzaXplXCIsIGhvc3RDb250cm9sSWQsIFtuZXdXaWR0aCwgbmV3SGVpZ2h0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXhwb3J0cy5yZXNpemUgPSByZXNpemU7XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgdGhlbWUgdmFyaWFibGVzIHRvIHRoZSBjdXJyZW50IGRvY3VtZW50XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGx5VGhlbWUodGhlbWVEYXRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGVtZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhlbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgICAgICB0aGVtZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGVtZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3NzVmFyaWFibGVzID0gW107XHJcbiAgICAgICAgaWYgKHRoZW1lRGF0YSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB2YXJOYW1lIGluIHRoZW1lRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY3NzVmFyaWFibGVzLnB1c2goXCItLVwiICsgdmFyTmFtZSArIFwiOiBcIiArIHRoZW1lRGF0YVt2YXJOYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhlbWVFbGVtZW50LmlubmVyVGV4dCA9IFwiOnJvb3QgeyBcIiArIGNzc1ZhcmlhYmxlcy5qb2luKFwiOyBcIikgKyBcIiB9IGJvZHkgeyBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LWNvbG9yKSB9XCI7XHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudChcInRoZW1lQXBwbGllZFwiLCB7IGRldGFpbDogdGhlbWVEYXRhIH0pO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0cy5hcHBseVRoZW1lID0gYXBwbHlUaGVtZTtcclxufSk7XHJcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiZXM2LXByb21pc2UvYXV0b1wiLCBcImVzNi1vYmplY3QtYXNzaWduL2F1dG9cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgIHZhciBzbWFsbGVzdFJhbmRvbSA9IHBhcnNlSW50KFwiMTAwMDAwMDAwMDBcIiwgMzYpO1xyXG4gICAgdmFyIG1heFNhZmVJbnRlZ2VyID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgOTAwNzE5OTI1NDc0MDk5MTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IHJhbmRvbSAyMi1jaGFyYWN0ZXIgZmluZ2VycHJpbnQuXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyBmaW5nZXJwcmludFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBuZXdGaW5nZXJwcmludCgpIHtcclxuICAgICAgICAvLyBzbWFsbGVzdFJhbmRvbSBlbnN1cmVzIHdlIHdpbGwgZ2V0IGEgMTEtY2hhcmFjdGVyIHJlc3VsdCBmcm9tIHRoZSBiYXNlLTM2IGNvbnZlcnNpb24uXHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAobWF4U2FmZUludGVnZXIgLSBzbWFsbGVzdFJhbmRvbSkpICsgc21hbGxlc3RSYW5kb20pLnRvU3RyaW5nKDM2KSArXHJcbiAgICAgICAgICAgIE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAobWF4U2FmZUludGVnZXIgLSBzbWFsbGVzdFJhbmRvbSkpICsgc21hbGxlc3RSYW5kb20pLnRvU3RyaW5nKDM2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbGwgb3duIGFuZCBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGdpdmVuIG9iamVjdCwgZXhjbHVkaW5nXHJcbiAgICAgKiB0aG9zZSB0aGF0IGFyZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QncyBwcm90b3R5cGUgYW5kIFwiY29uc3RydWN0b3JcIi5cclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QWxsUHJvcGVydHlOYW1lcyhvYmopIHtcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgIHdoaWxlIChvYmogJiYgb2JqICE9PSBPYmplY3QucHJvdG90eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBvd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25Qcm9wZXJ0eU5hbWVzXzEgPSBvd25Qcm9wZXJ0eU5hbWVzOyBfaSA8IG93blByb3BlcnR5TmFtZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBvd25Qcm9wZXJ0eU5hbWVzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVfMSAhPT0gXCJjb25zdHJ1Y3RvclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXzFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhdGFsb2cgb2Ygb2JqZWN0cyBleHBvc2VkIGZvciBYRE1cclxuICAgICAqL1xyXG4gICAgdmFyIFhETU9iamVjdFJlZ2lzdHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFhETU9iamVjdFJlZ2lzdHJ5KCkge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZWdpc3RlciBhbiBvYmplY3QgKGluc3RhbmNlIG9yIGZhY3RvcnkgbWV0aG9kKSBleHBvc2VkIGJ5IHRoaXMgZnJhbWUgdG8gY2FsbGVycyBpbiBhIHJlbW90ZSBmcmFtZVxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSBpbnN0YW5jZUlkIC0gdW5pcXVlIGlkIG9mIHRoZSByZWdpc3RlcmVkIG9iamVjdFxyXG4gICAgICAgICogQHBhcmFtIGluc3RhbmNlIC0gRWl0aGVyOiAoMSkgYW4gb2JqZWN0IGluc3RhbmNlLCBvciAoMikgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG9wdGlvbmFsIGNvbnRleHQgZGF0YSBhbmQgcmV0dXJucyBhbiBvYmplY3QgaW5zdGFuY2UuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBYRE1PYmplY3RSZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2VJZCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2luc3RhbmNlSWRdID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAqIFVucmVnaXN0ZXIgYW4gb2JqZWN0IChpbnN0YW5jZSBvciBmYWN0b3J5IG1ldGhvZCkgdGhhdCB3YXMgcHJldmlvdXNseSByZWdpc3RlcmVkIGJ5IHRoaXMgZnJhbWVcclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcGFyYW0gaW5zdGFuY2VJZCAtIHVuaXF1ZSBpZCBvZiB0aGUgcmVnaXN0ZXJlZCBvYmplY3RcclxuICAgICAgICAqL1xyXG4gICAgICAgIFhETU9iamVjdFJlZ2lzdHJ5LnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gKGluc3RhbmNlSWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMub2JqZWN0c1tpbnN0YW5jZUlkXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0IGFuIGluc3RhbmNlIG9mIGFuIG9iamVjdCByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIGlkXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGluc3RhbmNlSWQgLSB1bmlxdWUgaWQgb2YgdGhlIHJlZ2lzdGVyZWQgb2JqZWN0XHJcbiAgICAgICAgKiBAcGFyYW0gY29udGV4dERhdGEgLSBPcHRpb25hbCBjb250ZXh0IGRhdGEgdG8gcGFzcyB0byBhIHJlZ2lzdGVyZWQgb2JqZWN0J3MgZmFjdG9yeSBtZXRob2RcclxuICAgICAgICAqL1xyXG4gICAgICAgIFhETU9iamVjdFJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBjb250ZXh0RGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLm9iamVjdHNbaW5zdGFuY2VJZF07XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UoY29udGV4dERhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gWERNT2JqZWN0UmVnaXN0cnk7XHJcbiAgICB9KCkpO1xyXG4gICAgZXhwb3J0cy5YRE1PYmplY3RSZWdpc3RyeSA9IFhETU9iamVjdFJlZ2lzdHJ5O1xyXG4gICAgdmFyIE1BWF9YRE1fREVQVEggPSAxMDA7XHJcbiAgICB2YXIgbmV4dENoYW5uZWxJZCA9IDE7XHJcbiAgICAvKipcclxuICAgICAqIFJlcHJlc2VudHMgYSBjaGFubmVsIG9mIGNvbW11bmljYXRpb24gYmV0d2VlbiBmcmFtZXNcXGRvY3VtZW50XHJcbiAgICAgKiBTdGF5cyBcImFsaXZlXCIgYWNyb3NzIG11bHRpcGxlIGZ1bnRpb25cXG1ldGhvZCBjYWxsc1xyXG4gICAgICovXHJcbiAgICB2YXIgWERNQ2hhbm5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBYRE1DaGFubmVsKHBvc3RUb1dpbmRvdywgdGFyZ2V0T3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbWlzZXMgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0TWVzc2FnZUlkID0gMTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0UHJveHlJZCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMucHJveHlGdW5jdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5wb3N0VG9XaW5kb3cgPSBwb3N0VG9XaW5kb3c7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0T3JpZ2luID0gdGFyZ2V0T3JpZ2luO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IFhETU9iamVjdFJlZ2lzdHJ5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbElkID0gbmV4dENoYW5uZWxJZCsrO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudGFyZ2V0T3JpZ2luKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRzaGFrZVRva2VuID0gbmV3RmluZ2VycHJpbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldCB0aGUgb2JqZWN0IHJlZ2lzdHJ5IHRvIGhhbmRsZSBtZXNzYWdlcyBmcm9tIHRoaXMgc3BlY2lmaWMgY2hhbm5lbC5cclxuICAgICAgICAqIFVwb24gcmVjZWl2aW5nIGEgbWVzc2FnZSwgdGhpcyBjaGFubmVsIHJlZ2lzdHJ5IHdpbGwgYmUgdXNlZCBmaXJzdCwgdGhlblxyXG4gICAgICAgICogdGhlIGdsb2JhbCByZWdpc3RyeSB3aWxsIGJlIHVzZWQgaWYgbm8gaGFuZGxlciBpcyBmb3VuZCBoZXJlLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgWERNQ2hhbm5lbC5wcm90b3R5cGUuZ2V0T2JqZWN0UmVnaXN0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBJbnZva2UgYSBtZXRob2QgdmlhIFJQQy4gTG9va3VwIHRoZSByZWdpc3RlcmVkIG9iamVjdCBvbiB0aGUgcmVtb3RlIGVuZCBvZiB0aGUgY2hhbm5lbCBhbmQgaW52b2tlIHRoZSBzcGVjaWZpZWQgbWV0aG9kLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSBtZXRob2QgLSBOYW1lIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlXHJcbiAgICAgICAgKiBAcGFyYW0gaW5zdGFuY2VJZCAtIHVuaXF1ZSBpZCBvZiB0aGUgcmVnaXN0ZXJlZCBvYmplY3RcclxuICAgICAgICAqIEBwYXJhbSBwYXJhbXMgLSBBcmd1bWVudHMgdG8gdGhlIG1ldGhvZCB0byBpbnZva2VcclxuICAgICAgICAqIEBwYXJhbSBpbnN0YW5jZUNvbnRleHREYXRhIC0gT3B0aW9uYWwgY29udGV4dCBkYXRhIHRvIHBhc3MgdG8gYSByZWdpc3RlcmVkIG9iamVjdCdzIGZhY3RvcnkgbWV0aG9kXHJcbiAgICAgICAgKiBAcGFyYW0gc2VyaWFsaXphdGlvblNldHRpbmdzIC0gT3B0aW9uYWwgc2VyaWFsaXphdGlvbiBzZXR0aW5nc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgWERNQ2hhbm5lbC5wcm90b3R5cGUuaW52b2tlUmVtb3RlTWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUsIGluc3RhbmNlSWQsIHBhcmFtcywgaW5zdGFuY2VDb250ZXh0RGF0YSwgc2VyaWFsaXphdGlvblNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlLCBwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5uZXh0TWVzc2FnZUlkKyssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IG1ldGhvZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlQ29udGV4dDogaW5zdGFuY2VDb250ZXh0RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB0aGlzLl9jdXN0b21TZXJpYWxpemVPYmplY3QocGFyYW1zLCBzZXJpYWxpemF0aW9uU2V0dGluZ3MpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemF0aW9uU2V0dGluZ3M6IHNlcmlhbGl6YXRpb25TZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldE9yaWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhhbmRzaGFrZVRva2VuID0gdGhpcy5oYW5kc2hha2VUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvbWlzZXNbbWVzc2FnZS5pZF0gPSB7IHJlc29sdmU6IHJlc29sdmUsIHJlamVjdDogcmVqZWN0IH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFJwY01lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXQgYSBwcm94aWVkIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIG9iamVjdCByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIGluc3RhbmNlIGlkIG9uIHRoZSByZW1vdGUgc2lkZSBvZiB0aGlzIGNoYW5uZWwuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGluc3RhbmNlSWQgLSB1bmlxdWUgaWQgb2YgdGhlIHJlZ2lzdGVyZWQgb2JqZWN0XHJcbiAgICAgICAgKiBAcGFyYW0gY29udGV4dERhdGEgLSBPcHRpb25hbCBjb250ZXh0IGRhdGEgdG8gcGFzcyB0byBhIHJlZ2lzdGVyZWQgb2JqZWN0J3MgZmFjdG9yeSBtZXRob2RcclxuICAgICAgICAqL1xyXG4gICAgICAgIFhETUNoYW5uZWwucHJvdG90eXBlLmdldFJlbW90ZU9iamVjdFByb3h5ID0gZnVuY3Rpb24gKGluc3RhbmNlSWQsIGNvbnRleHREYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZVJlbW90ZU1ldGhvZChcIlwiLCBpbnN0YW5jZUlkLCB1bmRlZmluZWQsIGNvbnRleHREYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFhETUNoYW5uZWwucHJvdG90eXBlLmludm9rZU1ldGhvZCA9IGZ1bmN0aW9uIChyZWdpc3RlcmVkSW5zdGFuY2UsIHJwY01lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKCFycGNNZXNzYWdlLm1ldGhvZE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE51bGwvZW1wdHkgbWV0aG9kIG5hbWUgaW5kaWNhdGVzIHRvIHJldHVybiB0aGUgcmVnaXN0ZXJlZCBvYmplY3QgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3VjY2VzcyhycGNNZXNzYWdlLCByZWdpc3RlcmVkSW5zdGFuY2UsIHJwY01lc3NhZ2UuaGFuZHNoYWtlVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSByZWdpc3RlcmVkSW5zdGFuY2VbcnBjTWVzc2FnZS5tZXRob2ROYW1lXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihycGNNZXNzYWdlLCBuZXcgRXJyb3IoXCJSUEMgbWV0aG9kIG5vdCBmb3VuZDogXCIgKyBycGNNZXNzYWdlLm1ldGhvZE5hbWUpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBzcGVjaWZpZWQgbWV0aG9kLiAgQWRkIG5lc3RlZCBzdWNjZXNzIGFuZCBlcnJvciBjYWxsIGJhY2tzIHdpdGggY2xvc3VyZVxyXG4gICAgICAgICAgICAgICAgLy8gc28gd2UgY2FuIHBvc3QgYmFjayBhIHJlc3BvbnNlIGFzIGEgcmVzdWx0IG9yIGVycm9yIGFzIGFwcHJvcHJpYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbWV0aG9kQXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJwY01lc3NhZ2UucGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kQXJncyA9IHRoaXMuX2N1c3RvbURlc2VyaWFsaXplT2JqZWN0KHJwY01lc3NhZ2UucGFyYW1zLCB7fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbWV0aG9kLmFwcGx5KHJlZ2lzdGVyZWRJbnN0YW5jZSwgbWV0aG9kQXJncyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKGFzeW5jUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdWNjZXNzKHJwY01lc3NhZ2UsIGFzeW5jUmVzdWx0LCBycGNNZXNzYWdlLmhhbmRzaGFrZVRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcihycGNNZXNzYWdlLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3MocnBjTWVzc2FnZSwgcmVzdWx0LCBycGNNZXNzYWdlLmhhbmRzaGFrZVRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZW5kIGJhY2sgYXMgZXJyb3IgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93blxyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihycGNNZXNzYWdlLCBleGNlcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5nZXRSZWdpc3RlcmVkT2JqZWN0ID0gZnVuY3Rpb24gKGluc3RhbmNlSWQsIGluc3RhbmNlQ29udGV4dCkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VJZCA9PT0gXCJfX3Byb3h5RnVuY3Rpb25zXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgcHJveGllZCBmdW5jdGlvbnMgb2YgcmVtb3RlIGluc3RhbmNlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveHlGdW5jdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgY2hhbm5lbCByZWdpc3RyeSBmaXJzdFxyXG4gICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZE9iamVjdCA9IHRoaXMucmVnaXN0cnkuZ2V0SW5zdGFuY2UoaW5zdGFuY2VJZCwgaW5zdGFuY2VDb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKCFyZWdpc3RlcmVkT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb29rIGluIHRoZSBnbG9iYWwgcmVnaXN0cnkgYXMgYSBmYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZE9iamVjdCA9IGV4cG9ydHMuZ2xvYmFsT2JqZWN0UmVnaXN0cnkuZ2V0SW5zdGFuY2UoaW5zdGFuY2VJZCwgaW5zdGFuY2VDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZE9iamVjdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogSGFuZGxlIGEgcmVjZWl2ZWQgbWVzc2FnZSBvbiB0aGlzIGNoYW5uZWwuIERpc3BhdGNoIHRvIHRoZSBhcHByb3ByaWF0ZSBvYmplY3QgZm91bmQgdmlhIG9iamVjdCByZWdpc3RyeVxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSBycGNNZXNzYWdlIC0gTWVzc2FnZSBkYXRhXHJcbiAgICAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIGhhbmRsZWQgYnkgdGhpcyBjaGFubmVsLiBPdGhlcndpc2UgZmFsc2UuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbiAocnBjTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAocnBjTWVzc2FnZS5pbnN0YW5jZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBvYmplY3QgdGhhdCBoYW5kbGVzIHRoaXMgcmVxdWVzdE5lZWQgdG8gZmluZCBpbXBsZW1lbnRhdGlvblxyXG4gICAgICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgY2hhbm5lbCByZWdpc3RyeSBmaXJzdFxyXG4gICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRPYmplY3QgPSB0aGlzLmdldFJlZ2lzdGVyZWRPYmplY3QocnBjTWVzc2FnZS5pbnN0YW5jZUlkLCBycGNNZXNzYWdlLmluc3RhbmNlQ29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdGVyZWRPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBub3QgZm91bmQgcmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHRoYXQgdGhlIG1lc3NhZ2Ugd2FzIG5vdCBoYW5kbGVkXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWdpc3RlcmVkT2JqZWN0W1widGhlblwiXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJlZE9iamVjdC50aGVuKGZ1bmN0aW9uIChyZXNvbHZlZEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmludm9rZU1ldGhvZChyZXNvbHZlZEluc3RhbmNlLCBycGNNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcihycGNNZXNzYWdlLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlTWV0aG9kKHJlZ2lzdGVyZWRPYmplY3QsIHJwY01lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2VzW3JwY01lc3NhZ2UuaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBub3QgaGFuZGxlZCBieSB0aGlzIGNoYW5uZWwuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJwY01lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdCh0aGlzLl9jdXN0b21EZXNlcmlhbGl6ZU9iamVjdChbcnBjTWVzc2FnZS5lcnJvcl0sIHt9KVswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUodGhpcy5fY3VzdG9tRGVzZXJpYWxpemVPYmplY3QoW3JwY01lc3NhZ2UucmVzdWx0XSwge30pWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb21pc2VzW3JwY01lc3NhZ2UuaWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE1lc3NhZ2UgaGFuZGxlZCBieSB0aGlzIGNoYW5uZWxcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5vd25zID0gZnVuY3Rpb24gKHNvdXJjZSwgb3JpZ2luLCBycGNNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIC8vLyBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgbWVzc2FnZSBiZWxvbmdzIHRvIHRoaXMgY2hhbm5lbCBvciBub3RcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdFRvV2luZG93ID09PSBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvciBtZXNzYWdlcyBjb21pbmcgZnJvbSBzYW5kYm94ZWQgaWZyYW1lcyB0aGUgb3JpZ2luIHdpbGwgYmUgc2V0IHRvIHRoZSBzdHJpbmcgXCJudWxsXCIuICBUaGlzIGlzIFxyXG4gICAgICAgICAgICAgICAgLy8gaG93IG9ucHJlbSB3b3Jrcy4gIElmIGl0IGlzIG5vdCBhIHNhbmRib3hlZCBpRnJhbWUgd2Ugd2lsbCBnZXQgdGhlIG9yaWdpbiBhcyBleHBlY3RlZC5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldE9yaWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbi50b0xvd2VyQ2FzZSgpID09PSBcIm51bGxcIiB8fCB0aGlzLnRhcmdldE9yaWdpbi50b0xvd2VyQ2FzZSgpLmluZGV4T2Yob3JpZ2luLnRvTG93ZXJDYXNlKCkpID09PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChycGNNZXNzYWdlLmhhbmRzaGFrZVRva2VuICYmIHJwY01lc3NhZ2UuaGFuZHNoYWtlVG9rZW4gPT09IHRoaXMuaGFuZHNoYWtlVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRPcmlnaW4gPSBvcmlnaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlT2JqLCBlcnJvck9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5kUnBjTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZU9iai5pZCxcclxuICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLl9jdXN0b21TZXJpYWxpemVPYmplY3QoW2Vycm9yT2JqXSwgbWVzc2FnZU9iai5zZXJpYWxpemF0aW9uU2V0dGluZ3MpWzBdLFxyXG4gICAgICAgICAgICAgICAgaGFuZHNoYWtlVG9rZW46IG1lc3NhZ2VPYmouaGFuZHNoYWtlVG9rZW5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5fc3VjY2VzcyA9IGZ1bmN0aW9uIChtZXNzYWdlT2JqLCByZXN1bHQsIGhhbmRzaGFrZVRva2VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbmRScGNNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlT2JqLmlkLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0OiB0aGlzLl9jdXN0b21TZXJpYWxpemVPYmplY3QoW3Jlc3VsdF0sIG1lc3NhZ2VPYmouc2VyaWFsaXphdGlvblNldHRpbmdzKVswXSxcclxuICAgICAgICAgICAgICAgIGhhbmRzaGFrZVRva2VuOiBoYW5kc2hha2VUb2tlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFhETUNoYW5uZWwucHJvdG90eXBlLl9zZW5kUnBjTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zdFRvV2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLCBcIipcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBYRE1DaGFubmVsLnByb3RvdHlwZS5fY3VzdG9tU2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24gKG9iaiwgc2V0dGluZ3MsIHByZXZQYXJlbnRPYmplY3RzLCBuZXh0Q2lyY3VsYXJSZWZJZCwgZGVwdGgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKG5leHRDaXJjdWxhclJlZklkID09PSB2b2lkIDApIHsgbmV4dENpcmN1bGFyUmVmSWQgPSAxOyB9XHJcbiAgICAgICAgICAgIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7IGRlcHRoID0gMTsgfVxyXG4gICAgICAgICAgICBpZiAoIW9iaiB8fCBkZXB0aCA+IE1BWF9YRE1fREVQVEgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE5vZGUgfHwgb2JqIGluc3RhbmNlb2YgV2luZG93IHx8IG9iaiBpbnN0YW5jZW9mIEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudE9iamVjdHM7XHJcbiAgICAgICAgICAgIGlmICghcHJldlBhcmVudE9iamVjdHMpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudE9iamVjdHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3T2JqZWN0czogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPYmplY3RzOiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudE9iamVjdHMgPSBwcmV2UGFyZW50T2JqZWN0cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRPYmplY3RzLm9yaWdpbmFsT2JqZWN0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgIHZhciBzZXJpYWxpemVNZW1iZXIgPSBmdW5jdGlvbiAocGFyZW50T2JqZWN0LCBuZXdPYmplY3QsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBwYXJlbnRPYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbm5vdCBhY2Nlc3MgdGhpcyBwcm9wZXJ0eS4gU2tpcCBpdHMgc2VyaWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBpdGVtVHlwZSA9IHR5cGVvZiBpdGVtO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1UeXBlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGEgY2lyY3VsYXIgcmVmZXJlbmNlIGJ5IGxvb2tpbmcgYXQgcGFyZW50IG9iamVjdHNcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJdGVtSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtVHlwZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEl0ZW1JbmRleCA9IHBhcmVudE9iamVjdHMub3JpZ2luYWxPYmplY3RzLmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50SXRlbUluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UgZm91bmQuIEFkZCByZWZlcmVuY2UgdG8gcGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudEl0ZW0gPSBwYXJlbnRPYmplY3RzLm5ld09iamVjdHNbcGFyZW50SXRlbUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEl0ZW0uX19jaXJjdWxhclJlZmVyZW5jZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEl0ZW0uX19jaXJjdWxhclJlZmVyZW5jZUlkID0gbmV4dENpcmN1bGFyUmVmSWQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3T2JqZWN0W2tleV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2lyY3VsYXJSZWZlcmVuY2U6IHBhcmVudEl0ZW0uX19jaXJjdWxhclJlZmVyZW5jZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtVHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm94eUZ1bmN0aW9uSWQgPSBfdGhpcy5uZXh0UHJveHlJZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdPYmplY3Rba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fcHJveHlGdW5jdGlvbklkOiBfdGhpcy5fcmVnaXN0ZXJQcm94eUZ1bmN0aW9uKGl0ZW0sIG9iaiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hhbm5lbElkOiBfdGhpcy5jaGFubmVsSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbVR5cGUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld09iamVjdFtrZXldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fcHJveHlEYXRlOiBpdGVtLmdldFRpbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld09iamVjdFtrZXldID0gX3RoaXMuX2N1c3RvbVNlcmlhbGl6ZU9iamVjdChpdGVtLCBzZXR0aW5ncywgcGFyZW50T2JqZWN0cywgbmV4dENpcmN1bGFyUmVmSWQsIGRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBcIl9fcHJveHlGdW5jdGlvbklkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVzdCBhZGQgbm9uIG9iamVjdC9mdW5jdGlvbiBwcm9wZXJ0aWVzIGFzLWlzLiBEb24ndCBpbmNsdWRlIFwiX19wcm94eUZ1bmN0aW9uSWRcIiB0byBwcm90ZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91ciBwcm94eSBtZXRob2RzIGZyb20gYmVpbmcgaW52b2tlZCBmcm9tIG90aGVyIG1lc3NhZ2VzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdPYmplY3Rba2V5XSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gW107XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmplY3RzLm5ld09iamVjdHMucHVzaChyZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVNZW1iZXIob2JqLCByZXR1cm5WYWx1ZSwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcGFyZW50T2JqZWN0cy5uZXdPYmplY3RzLnB1c2gocmV0dXJuVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGdldEFsbFByb3BlcnR5TmFtZXMob2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBub3QgYmUgYWJsZSB0byBhY2Nlc3MgdGhlIGl0ZXJhdG9yIG9mIHRoaXMgb2JqZWN0LiBTa2lwIGl0cyBzZXJpYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGtleXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBzZXJpYWxpemUgcHJvcGVydGllcyB0aGF0IHN0YXJ0IHdpdGggYW4gdW5kZXJzY29yZS5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKGtleSAmJiBrZXlbMF0gIT09IFwiX1wiKSB8fCAoc2V0dGluZ3MgJiYgc2V0dGluZ3MuaW5jbHVkZVVuZGVyc2NvcmVQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVNZW1iZXIob2JqLCByZXR1cm5WYWx1ZSwga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50T2JqZWN0cy5vcmlnaW5hbE9iamVjdHMucG9wKCk7XHJcbiAgICAgICAgICAgIHBhcmVudE9iamVjdHMubmV3T2JqZWN0cy5wb3AoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgWERNQ2hhbm5lbC5wcm90b3R5cGUuX3JlZ2lzdGVyUHJveHlGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jLCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciBwcm94eUZ1bmN0aW9uSWQgPSB0aGlzLm5leHRQcm94eUlkKys7XHJcbiAgICAgICAgICAgIHRoaXMucHJveHlGdW5jdGlvbnNbXCJwcm94eVwiICsgcHJveHlGdW5jdGlvbklkXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcHJveHlGdW5jdGlvbklkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgWERNQ2hhbm5lbC5wcm90b3R5cGUuX2N1c3RvbURlc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24gKG9iaiwgY2lyY3VsYXJSZWZzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKCFvYmopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkZXNlcmlhbGl6ZU1lbWJlciA9IGZ1bmN0aW9uIChwYXJlbnRPYmplY3QsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBwYXJlbnRPYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtVHlwZSA9IHR5cGVvZiBpdGVtO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJfX2NpcmN1bGFyUmVmZXJlbmNlSWRcIiAmJiBpdGVtVHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaXJjdWxhclJlZnNbaXRlbV0gPSBwYXJlbnRPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudE9iamVjdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbVR5cGUgPT09IFwib2JqZWN0XCIgJiYgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLl9fcHJveHlGdW5jdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9iamVjdFtrZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuaW52b2tlUmVtb3RlTWV0aG9kKFwicHJveHlcIiArIGl0ZW0uX19wcm94eUZ1bmN0aW9uSWQsIFwiX19wcm94eUZ1bmN0aW9uc1wiLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLCB7fSwgeyBpbmNsdWRlVW5kZXJzY29yZVByb3BlcnRpZXM6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uX19wcm94eURhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50T2JqZWN0W2tleV0gPSBuZXcgRGF0ZShpdGVtLl9fcHJveHlEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5fX2NpcmN1bGFyUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9iamVjdFtrZXldID0gY2lyY3VsYXJSZWZzW2l0ZW0uX19jaXJjdWxhclJlZmVyZW5jZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY3VzdG9tRGVzZXJpYWxpemVPYmplY3QoaXRlbSwgY2lyY3VsYXJSZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemVNZW1iZXIob2JqLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemVNZW1iZXIob2JqLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gWERNQ2hhbm5lbDtcclxuICAgIH0oKSk7XHJcbiAgICBleHBvcnRzLlhETUNoYW5uZWwgPSBYRE1DaGFubmVsO1xyXG4gICAgLyoqXHJcbiAgICAqIFJlZ2lzdHJ5IG9mIFhETSBjaGFubmVscyBrZXB0IHBlciB0YXJnZXQgZnJhbWUvd2luZG93XHJcbiAgICAqL1xyXG4gICAgdmFyIFhETUNoYW5uZWxNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFhETUNoYW5uZWxNYW5hZ2VyKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGFubmVscyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVNZXNzYWdlUmVjZWl2ZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdldCBjaGFubmVsIGFuZCBkaXNwYXRjaCB0byBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHJwY01lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBycGNNZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtZXNzYWdlIGlzIG5vdCBhIHZhbGlkIEpTT04gc3RyaW5nLiBOb3Qgb25lIG9mIG91ciBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJwY01lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFubmVsT3duZXIgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLl9jaGFubmVsczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLm93bnMoZXZlbnQuc291cmNlLCBldmVudC5vcmlnaW4sIHJwY01lc3NhZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBjaGFubmVsIG93bmVyIGZvdW5kLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxPd25lciA9IGNoYW5uZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVkID0gY2hhbm5lbC5vbk1lc3NhZ2UocnBjTWVzc2FnZSkgfHwgaGFuZGxlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbE93bmVyICYmICFoYW5kbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGhhbmRsZXIgZm91bmQgb24gYW55IGNoYW5uZWwgZm9yIG1lc3NhZ2U6IFwiICsgSlNPTi5zdHJpbmdpZnkocnBjTWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBpbnN0YW5jZSBiYXNlZCBwcm94aWVzLCBzZW5kIGFuIGVycm9yIG9uIHRoZSBjaGFubmVsIG93bmluZyB0aGUgbWVzc2FnZSB0byByZXNvbHZlIGFueSBjb250cm9sIGNyZWF0aW9uIHByb21pc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBob3N0IGZyYW1lLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJwY01lc3NhZ2UuaW5zdGFuY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbE93bmVyLmVycm9yKHJwY01lc3NhZ2UsIG5ldyBFcnJvcihcIlRoZSByZWdpc3RlcmVkIG9iamVjdCBcIiArIHJwY01lc3NhZ2UuaW5zdGFuY2VJZCArIFwiIGNvdWxkIG5vdCBiZSBmb3VuZC5cIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZVJlY2VpdmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGQgYW4gWERNIGNoYW5uZWwgZm9yIHRoZSBnaXZlbiB0YXJnZXQgd2luZG93L2lmcmFtZVxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSB3aW5kb3cgLSBUYXJnZXQgaWZyYW1lIHdpbmRvdyB0byBjb21tdW5pY2F0ZSB3aXRoXHJcbiAgICAgICAgKiBAcGFyYW0gdGFyZ2V0T3JpZ2luIC0gVXJsIG9mIHRoZSB0YXJnZXQgaWZyYW1lIChpZiBrbm93bilcclxuICAgICAgICAqL1xyXG4gICAgICAgIFhETUNoYW5uZWxNYW5hZ2VyLnByb3RvdHlwZS5hZGRDaGFubmVsID0gZnVuY3Rpb24gKHdpbmRvdywgdGFyZ2V0T3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gbmV3IFhETUNoYW5uZWwod2luZG93LCB0YXJnZXRPcmlnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGFubmVscy5wdXNoKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhbm5lbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFhETUNoYW5uZWxNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVDaGFubmVsID0gZnVuY3Rpb24gKGNoYW5uZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hhbm5lbHMgPSB0aGlzLl9jaGFubmVscy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgIT09IGNoYW5uZWw7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFhETUNoYW5uZWxNYW5hZ2VyO1xyXG4gICAgfSgpKTtcclxuICAgIC8qKlxyXG4gICAgKiBUaGUgcmVnaXN0cnkgb2YgZ2xvYmFsIFhETSBoYW5kbGVyc1xyXG4gICAgKi9cclxuICAgIGV4cG9ydHMuZ2xvYmFsT2JqZWN0UmVnaXN0cnkgPSBuZXcgWERNT2JqZWN0UmVnaXN0cnkoKTtcclxuICAgIC8qKlxyXG4gICAgKiBNYW5hZ2VzIFhETSBjaGFubmVscyBwZXIgdGFyZ2V0IHdpbmRvdy9mcmFtZVxyXG4gICAgKi9cclxuICAgIGV4cG9ydHMuY2hhbm5lbE1hbmFnZXIgPSBuZXcgWERNQ2hhbm5lbE1hbmFnZXIoKTtcclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi9pbmRleCcpLnBvbHlmaWxsKCk7XG4iLCIvKipcbiAqIENvZGUgcmVmYWN0b3JlZCBmcm9tIE1vemlsbGEgRGV2ZWxvcGVyIE5ldHdvcms6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBmaXJzdFNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgZmlyc3QgYXJndW1lbnQgdG8gb2JqZWN0Jyk7XG4gIH1cblxuICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAobmV4dFNvdXJjZSA9PT0gdW5kZWZpbmVkIHx8IG5leHRTb3VyY2UgPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpO1xuICAgIGZvciAodmFyIG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4KyspIHtcbiAgICAgIHZhciBuZXh0S2V5ID0ga2V5c0FycmF5W25leHRJbmRleF07XG4gICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG4gICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cblxuZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gIGlmICghT2JqZWN0LmFzc2lnbikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsICdhc3NpZ24nLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGFzc2lnblxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhc3NpZ246IGFzc2lnbixcbiAgcG9seWZpbGw6IHBvbHlmaWxsXG59O1xuIiwiLy8gVGhpcyBmaWxlIGNhbiBiZSByZXF1aXJlZCBpbiBCcm93c2VyaWZ5IGFuZCBOb2RlLmpzIGZvciBhdXRvbWF0aWMgcG9seWZpbGxcbi8vIFRvIHVzZSBpdDogIHJlcXVpcmUoJ2VzNi1wcm9taXNlL2F1dG8nKTtcbid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8nKS5wb2x5ZmlsbCgpO1xuIiwiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjgrMWU2OGRjZTZcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuRVM2UHJvbWlzZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7XG4gIHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbnZhciBfaXNBcnJheSA9IHZvaWQgMDtcbmlmIChBcnJheS5pc0FycmF5KSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgaXNBcnJheSA9IF9pc0FycmF5O1xuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7XG52YXIgY3VzdG9tU2NoZWR1bGVyRm4gPSB2b2lkIDA7XG5cbnZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICBjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG59XG5cbmZ1bmN0aW9uIHNldEFzYXAoYXNhcEZuKSB7XG4gIGFzYXAgPSBhc2FwRm47XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdmVydHggPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpLnJlcXVpcmUoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHZvaWQgMDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQxKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxudmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuJCQxLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbiQkMS5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuJCQxLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkMSkge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuJCQxID09PSB0aGVuICYmIG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoZW4kJDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkMSkpIHtcbiAgICAgIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgc2VsZkZ1bGZpbGxtZW50KCkpO1xuICB9IGVsc2UgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIHRoZW4kJDEgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIHRoZW4kJDEgPSB2YWx1ZS50aGVuO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCB0aGVuJCQxKTtcbiAgfSBlbHNlIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gIH1cblxuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRDtcblxuICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEO1xuICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgYXNhcChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBfc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICB2YXIgbGVuZ3RoID0gX3N1YnNjcmliZXJzLmxlbmd0aDtcblxuXG4gIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgX3N1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdID0gb25SZWplY3Rpb247XG5cbiAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwYXJlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdm9pZCAwLFxuICAgICAgY2FsbGJhY2sgPSB2b2lkIDAsXG4gICAgICBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9XG4gIH1cblxuICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB2b2lkIDAsXG4gICAgICBlcnJvciA9IHZvaWQgMCxcbiAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG5cbiAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgIGVycm9yID0gZTtcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZGV0YWlsO1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHN1Y2NlZWRlZCA9PT0gZmFsc2UpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB0cnkge1xuICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxudmFyIGlkID0gMDtcbmZ1bmN0aW9uIG5leHRJZCgpIHtcbiAgcmV0dXJuIGlkKys7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgcHJvbWlzZVtQUk9NSVNFX0lEXSA9IGlkKys7XG4gIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG59XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IHRoZW4gJiYgZW50cnkuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgICAgIHRoaXMuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgfSBlbHNlIGlmIChjID09PSBQcm9taXNlJDEpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlJCQxKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUkJDEoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlJCQxKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yYWNlYCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2ggaXMgc2V0dGxlZCBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlXG4gIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIHNldHRsZS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHJlc3VsdCA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgLy8gd2FzIHJlc29sdmVkLlxuICB9KTtcbiAgYGBgXG5cbiAgYFByb21pc2UucmFjZWAgaXMgZGV0ZXJtaW5pc3RpYyBpbiB0aGF0IG9ubHkgdGhlIHN0YXRlIG9mIHRoZSBmaXJzdFxuICBzZXR0bGVkIHByb21pc2UgbWF0dGVycy4gRm9yIGV4YW1wbGUsIGV2ZW4gaWYgb3RoZXIgcHJvbWlzZXMgZ2l2ZW4gdG8gdGhlXG4gIGBwcm9taXNlc2AgYXJyYXkgYXJndW1lbnQgYXJlIHJlc29sdmVkLCBidXQgdGhlIGZpcnN0IHNldHRsZWQgcHJvbWlzZSBoYXNcbiAgYmVjb21lIHJlamVjdGVkIGJlZm9yZSB0aGUgb3RoZXIgcHJvbWlzZXMgYmVjYW1lIGZ1bGZpbGxlZCwgdGhlIHJldHVybmVkXG4gIHByb21pc2Ugd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcigncHJvbWlzZSAyJykpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgcHJvbWlzZSAyIGJlY2FtZSByZWplY3RlZCBiZWZvcmVcbiAgICAvLyBwcm9taXNlIDEgYmVjYW1lIGZ1bGZpbGxlZFxuICB9KTtcbiAgYGBgXG5cbiAgQW4gZXhhbXBsZSByZWFsLXdvcmxkIHVzZSBjYXNlIGlzIGltcGxlbWVudGluZyB0aW1lb3V0czpcblxuICBgYGBqYXZhc2NyaXB0XG4gIFByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IHByb21pc2VzIGFycmF5IG9mIHByb21pc2VzIHRvIG9ic2VydmVcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2Ugd2hpY2ggc2V0dGxlcyBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlIGZpcnN0IHBhc3NlZFxuICBwcm9taXNlIHRvIHNldHRsZS5cbiovXG5mdW5jdGlvbiByYWNlKGVudHJpZXMpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkoZW50cmllcykpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkIGByZWFzb25gLlxuICBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBnaXZlbiBgcmVhc29uYC5cbiovXG5mdW5jdGlvbiByZWplY3QkMShyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlJDEgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICB0aGlzW1BST01JU0VfSURdID0gbmV4dElkKCk7XG4gICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgIGlmIChub29wICE9PSByZXNvbHZlcikge1xuICAgICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID8gaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbmVlZHNOZXcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gIHJlYXNvbiB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gIH0pO1xuICBgYGBcbiAgIENoYWluaW5nXG4gIC0tLS0tLS0tXG4gICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gIG9yIHJlamVjdGlvbiBoYW5kbGVyLCBvciByZWplY3RlZCBpZiB0aGUgaGFuZGxlciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gIH0pO1xuICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgfSk7XG4gIGBgYFxuICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgfSk7XG4gIGBgYFxuICAgQXNzaW1pbGF0aW9uXG4gIC0tLS0tLS0tLS0tLVxuICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gaGFuZGxlci4gVGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIHRoZW4gYmUgcGVuZGluZ1xuICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gIH0pO1xuICBgYGBcbiAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgfSk7XG4gIGBgYFxuICAgU2ltcGxlIEV4YW1wbGVcbiAgLS0tLS0tLS0tLS0tLS1cbiAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlc3VsdDtcbiAgIHRyeSB7XG4gICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAvLyBmYWlsdXJlXG4gIH1cbiAgYGBgXG4gICBFcnJiYWNrIEV4YW1wbGVcbiAgIGBgYGpzXG4gIGZpbmRSZXN1bHQoZnVuY3Rpb24ocmVzdWx0LCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBmYWlsdXJlXG4gIH0pO1xuICBgYGBcbiAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgLS0tLS0tLS0tLS0tLS1cbiAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgIGBgYGphdmFzY3JpcHRcbiAgbGV0IGF1dGhvciwgYm9va3M7XG4gICB0cnkge1xuICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAvLyBmYWlsdXJlXG4gIH1cbiAgYGBgXG4gICBFcnJiYWNrIEV4YW1wbGVcbiAgIGBgYGpzXG4gICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG4gICB9XG4gICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuICAgfVxuICAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRBdXRob3IoKS5cbiAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICB0aGVuKGZ1bmN0aW9uKGJvb2tzKXtcbiAgICAgIC8vIGZvdW5kIGJvb2tzXG4gIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICAgQG1ldGhvZCB0aGVuXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0ZWRcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG4gIC8qKlxuICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gIGFzIHRoZSBjYXRjaCBibG9jayBvZiBhIHRyeS9jYXRjaCBzdGF0ZW1lbnQuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gIH1cbiAgLy8gc3luY2hyb25vdXNcbiAgdHJ5IHtcbiAgZmluZEF1dGhvcigpO1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9XG4gIC8vIGFzeW5jIHdpdGggcHJvbWlzZXNcbiAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgQG1ldGhvZCBjYXRjaFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGlvblxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgIGBmaW5hbGx5YCB3aWxsIGJlIGludm9rZWQgcmVnYXJkbGVzcyBvZiB0aGUgcHJvbWlzZSdzIGZhdGUganVzdCBhcyBuYXRpdmVcbiAgICB0cnkvY2F0Y2gvZmluYWxseSBiZWhhdmVzXG4gIFxuICAgIFN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpIHtcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBBdXRob3IoKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZmluZEF1dGhvcigpOyAvLyBzdWNjZWVkIG9yIGZhaWxcbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGFsd2F5cyBydW5zXG4gICAgICAvLyBkb2Vzbid0IGFmZmVjdCB0aGUgcmV0dXJuIHZhbHVlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBBc3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XG4gICAgICAvLyBhdXRob3Igd2FzIGVpdGhlciBmb3VuZCwgb3Igbm90XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEBtZXRob2QgZmluYWxseVxuICAgIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmZpbmFsbHkgPSBmdW5jdGlvbiBfZmluYWxseShjYWxsYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2UudGhlbihjYWxsYmFjaywgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiBQcm9taXNlO1xufSgpO1xuXG5Qcm9taXNlJDEucHJvdG90eXBlLnRoZW4gPSB0aGVuO1xuUHJvbWlzZSQxLmFsbCA9IGFsbDtcblByb21pc2UkMS5yYWNlID0gcmFjZTtcblByb21pc2UkMS5yZXNvbHZlID0gcmVzb2x2ZSQxO1xuUHJvbWlzZSQxLnJlamVjdCA9IHJlamVjdCQxO1xuUHJvbWlzZSQxLl9zZXRTY2hlZHVsZXIgPSBzZXRTY2hlZHVsZXI7XG5Qcm9taXNlJDEuX3NldEFzYXAgPSBzZXRBc2FwO1xuUHJvbWlzZSQxLl9hc2FwID0gYXNhcDtcblxuLypnbG9iYWwgc2VsZiovXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgdmFyIGxvY2FsID0gdm9pZCAwO1xuXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsID0gc2VsZjtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gIGlmIChQKSB7XG4gICAgdmFyIHByb21pc2VUb1N0cmluZyA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2VUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc2lsZW50bHkgaWdub3JlZFxuICAgIH1cblxuICAgIGlmIChwcm9taXNlVG9TdHJpbmcgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgbG9jYWwuUHJvbWlzZSA9IFByb21pc2UkMTtcbn1cblxuLy8gU3RyYW5nZSBjb21wYXQuLlxuUHJvbWlzZSQxLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlJDEuUHJvbWlzZSA9IFByb21pc2UkMTtcblxucmV0dXJuIFByb21pc2UkMTtcblxufSkpKTtcblxuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzNi1wcm9taXNlLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiLyoqXG4gKiBAdGhpcyB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gZmluYWxseUNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluYWxseUNvbnN0cnVjdG9yO1xuIiwiZnVuY3Rpb24gYWxsU2V0dGxlZChhcnIpIHtcbiAgdmFyIFAgPSB0aGlzO1xuICByZXR1cm4gbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCEoYXJyICYmIHR5cGVvZiBhcnIubGVuZ3RoICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgdHlwZW9mIGFyciArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgYXJyICtcbiAgICAgICAgICAgICcgaXMgbm90IGl0ZXJhYmxlKGNhbm5vdCByZWFkIHByb3BlcnR5IFN5bWJvbChTeW1ib2wuaXRlcmF0b3IpKSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGFyZ3NbaV0gPSB7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uOiBlIH07XG4gICAgICAgICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IHsgc3RhdHVzOiAnZnVsZmlsbGVkJywgdmFsdWU6IHZhbCB9O1xuICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWxsU2V0dGxlZDtcbiIsIi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSkge1xuICAodGhpcy5uYW1lID0gJ0FnZ3JlZ2F0ZUVycm9yJyksICh0aGlzLmVycm9ycyA9IGVycm9ycyk7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG59XG5BZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIGFueShhcnIpIHtcbiAgdmFyIFAgPSB0aGlzO1xuICByZXR1cm4gbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCEoYXJyICYmIHR5cGVvZiBhcnIubGVuZ3RoICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbnkgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVqZWN0KCk7XG5cbiAgICB2YXIgcmVqZWN0aW9uUmVhc29ucyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUC5yZXNvbHZlKGFyZ3NbaV0pXG4gICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdGlvblJlYXNvbnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICBpZiAocmVqZWN0aW9uUmVhc29ucy5sZW5ndGggPT09IGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgQWdncmVnYXRlRXJyb3IoXG4gICAgICAgICAgICAgICAgICByZWplY3Rpb25SZWFzb25zLFxuICAgICAgICAgICAgICAgICAgJ0FsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkJ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYW55O1xuIiwiaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5pbXBvcnQgYWxsU2V0dGxlZCBmcm9tICcuL2FsbFNldHRsZWQnO1xuaW1wb3J0IGFueSBmcm9tICcuL2FueSc7XG5cbi8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIHByb21pc2UtcG9seWZpbGwgd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4vLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbnZhciBzZXRUaW1lb3V0RnVuYyA9IHNldFRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICByZXR1cm4gQm9vbGVhbih4ICYmIHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuLy8gUG9seWZpbGwgZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gUHJvbWlzZShmbikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Jyk7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7XG4gIC8qKiBAdHlwZSB7IW51bWJlcn0gKi9cbiAgdGhpcy5fc3RhdGUgPSAwO1xuICAvKiogQHR5cGUgeyFib29sZWFufSAqL1xuICB0aGlzLl9oYW5kbGVkID0gZmFsc2U7XG4gIC8qKiBAdHlwZSB7UHJvbWlzZXx1bmRlZmluZWR9ICovXG4gIHRoaXMuX3ZhbHVlID0gdW5kZWZpbmVkO1xuICAvKiogQHR5cGUgeyFBcnJheTwhRnVuY3Rpb24+fSAqL1xuICB0aGlzLl9kZWZlcnJlZHMgPSBbXTtcblxuICBkb1Jlc29sdmUoZm4sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcbiAgd2hpbGUgKHNlbGYuX3N0YXRlID09PSAzKSB7XG4gICAgc2VsZiA9IHNlbGYuX3ZhbHVlO1xuICB9XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMCkge1xuICAgIHNlbGYuX2RlZmVycmVkcy5wdXNoKGRlZmVycmVkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5faGFuZGxlZCA9IHRydWU7XG4gIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYiA9IHNlbGYuX3N0YXRlID09PSAxID8gZGVmZXJyZWQub25GdWxmaWxsZWQgOiBkZWZlcnJlZC5vblJlamVjdGVkO1xuICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgKHNlbGYuX3N0YXRlID09PSAxID8gcmVzb2x2ZSA6IHJlamVjdCkoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fdmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHRyeSB7XG4gICAgICByZXQgPSBjYihzZWxmLl92YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHJldCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHRyeSB7XG4gICAgLy8gUHJvbWlzZSBSZXNvbHV0aW9uIFByb2NlZHVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAgICBpZiAobmV3VmFsdWUgPT09IHNlbGYpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO1xuICAgIGlmIChcbiAgICAgIG5ld1ZhbHVlICYmXG4gICAgICAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgKSB7XG4gICAgICB2YXIgdGhlbiA9IG5ld1ZhbHVlLnRoZW47XG4gICAgICBpZiAobmV3VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHNlbGYuX3N0YXRlID0gMztcbiAgICAgICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgZmluYWxlKHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRvUmVzb2x2ZShiaW5kKHRoZW4sIG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5fc3RhdGUgPSAxO1xuICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgZmluYWxlKHNlbGYpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHNlbGYsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChzZWxmLCBuZXdWYWx1ZSkge1xuICBzZWxmLl9zdGF0ZSA9IDI7XG4gIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gIGZpbmFsZShzZWxmKTtcbn1cblxuZnVuY3Rpb24gZmluYWxlKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3N0YXRlID09PSAyICYmIHNlbGYuX2RlZmVycmVkcy5sZW5ndGggPT09IDApIHtcbiAgICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5faGFuZGxlZCkge1xuICAgICAgICBQcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbihzZWxmLl92YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZi5fZGVmZXJyZWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuX2RlZmVycmVkc1tpXSk7XG4gIH1cbiAgc2VsZi5fZGVmZXJyZWRzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbWlzZSkge1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xufVxuXG4vKipcbiAqIFRha2UgYSBwb3RlbnRpYWxseSBtaXNiZWhhdmluZyByZXNvbHZlciBmdW5jdGlvbiBhbmQgbWFrZSBzdXJlXG4gKiBvbkZ1bGZpbGxlZCBhbmQgb25SZWplY3RlZCBhcmUgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBNYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IGFzeW5jaHJvbnkuXG4gKi9cbmZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgc2VsZikge1xuICB2YXIgZG9uZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIGZuKFxuICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVqZWN0KHNlbGYsIHJlYXNvbik7XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChzZWxmLCBleCk7XG4gIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgLy8gQHRzLWlnbm9yZVxuICB2YXIgcHJvbSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGhhbmRsZSh0aGlzLCBuZXcgSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbSkpO1xuICByZXR1cm4gcHJvbTtcbn07XG5cblByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBwcm9taXNlRmluYWxseTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXknKSk7XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZWplY3QoZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLmFueSA9IGFueTtcblxuUHJvbWlzZS5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdCh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdQcm9taXNlLnJhY2UgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoYXJyW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFVzZSBwb2x5ZmlsbCBmb3Igc2V0SW1tZWRpYXRlIGZvciBwZXJmb3JtYW5jZSBnYWluc1xuUHJvbWlzZS5faW1tZWRpYXRlRm4gPVxuICAvLyBAdHMtaWdub3JlXG4gICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmXG4gICAgZnVuY3Rpb24oZm4pIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgfSkgfHxcbiAgZnVuY3Rpb24oZm4pIHtcbiAgICBzZXRUaW1lb3V0RnVuYyhmbiwgMCk7XG4gIH07XG5cblByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVycikge1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1Bvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjonLCBlcnIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5pbXBvcnQgYWxsU2V0dGxlZCBmcm9tICcuL2FsbFNldHRsZWQnO1xuaW1wb3J0IGFueSBmcm9tICcuL2FueSc7XG5cbi8qKiBAc3VwcHJlc3Mge3VuZGVmaW5lZFZhcnN9ICovXG52YXIgZ2xvYmFsTlMgPSAoZnVuY3Rpb24oKSB7XG4gIC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuICAvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcbiAgLy8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn0pKCk7XG5cbi8vIEV4cG9zZSB0aGUgcG9seWZpbGwgaWYgUHJvbWlzZSBpcyB1bmRlZmluZWQgb3Igc2V0IHRvIGFcbi8vIG5vbi1mdW5jdGlvbiB2YWx1ZS4gVGhlIGxhdHRlciBjYW4gYmUgZHVlIHRvIGEgbmFtZWQgSFRNTEVsZW1lbnRcbi8vIGJlaW5nIGV4cG9zZWQgYnkgYnJvd3NlcnMgZm9yIGxlZ2FjeSByZWFzb25zLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RheWxvcmhha2VzL3Byb21pc2UtcG9seWZpbGwvaXNzdWVzLzExNFxuaWYgKHR5cGVvZiBnbG9iYWxOU1snUHJvbWlzZSddICE9PSAnZnVuY3Rpb24nKSB7XG4gIGdsb2JhbE5TWydQcm9taXNlJ10gPSBQcm9taXNlO1xufSBlbHNlIHtcbiAgaWYgKCFnbG9iYWxOUy5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddKSB7XG4gICAgZ2xvYmFsTlMuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSA9IHByb21pc2VGaW5hbGx5O1xuICB9XG4gIGlmICghZ2xvYmFsTlMuUHJvbWlzZS5hbGxTZXR0bGVkKSB7XG4gICAgZ2xvYmFsTlMuUHJvbWlzZS5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcbiAgfVxuICBpZiAoIWdsb2JhbE5TLlByb21pc2UuYW55KSB7XG4gICAgZ2xvYmFsTlMuUHJvbWlzZS5hbnkgPSBhbnk7XG4gIH1cbn1cbiIsIlxuaW1wb3J0IHsgdHJhY2tFdmVudCB9IGZyb20gXCIuLi9ldmVudHNcIjtcbmltcG9ydCB7IElDb250ZXh0T3B0aW9ucywgSVF1ZXJ5IH0gZnJvbSBcIi4uL3F1ZXJ5Q29udGV4dC9jb250ZXh0Q29udHJhY3RzXCI7XG5pbXBvcnQge1xuICAgIENvbW1vblNlcnZpY2VJZHMsXG4gICAgSUhvc3RQYWdlTGF5b3V0U2VydmljZSxcbiAgICBJSG9zdE5hdmlnYXRpb25TZXJ2aWNlLFxuICAgIElEaWFsb2dPcHRpb25zLFxuICAgIFBhbmVsU2l6ZSxcbiAgICBJUGFuZWxPcHRpb25zLFxufSBmcm9tIFwiYXp1cmUtZGV2b3BzLWV4dGVuc2lvbi1hcGlcIjtcbmltcG9ydCAqIGFzIFNESyBmcm9tIFwiYXp1cmUtZGV2b3BzLWV4dGVuc2lvbi1zZGtcIjtcblxuXG5cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2F2ZVJlc3VsdChyZXN1bHQ/OiBhbnksIHF1ZXJ5PzogSVF1ZXJ5LCBlcnJNc2c/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaWFsb2dTZXJ2aWNlID0gYXdhaXQgU0RLLmdldFNlcnZpY2U8SUhvc3RQYWdlTGF5b3V0U2VydmljZT4oQ29tbW9uU2VydmljZUlkcy5Ib3N0UGFnZUxheW91dFNlcnZpY2UpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vY2hlY2sgaWYgcmVzdWx0IGlzIG51bGwgb3IgdW5kZWZpbmVkIGFuZCB0aHJvdyBlcnJvclxuICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHNhdmUgcXVlcnlcIik7XG4gICAgfVxuICAgICAgIFxuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmF2aWdhdGlvblNlcnZpY2UgPSBhd2FpdCBTREsuZ2V0U2VydmljZShDb21tb25TZXJ2aWNlSWRzLkhvc3ROYXZpZ2F0aW9uU2VydmljZSkgYXMgSUhvc3ROYXZpZ2F0aW9uU2VydmljZTtcbiAgICBpZiAocmVzdWx0ID09PSBcIlwiKSB7XG4gICAgICAgIG5hdmlnYXRpb25TZXJ2aWNlLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5hdmlnYXRpb25TZXJ2aWNlLm5hdmlnYXRlKHJlc3VsdCk7XG4gICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGlmIGVyck1zZyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWQgdXNlIGVyck1zZyBpbiBzYXZlRXJyb3JNZXNzYWdlIGZ1bmN0aW9uIG90aGVyd2lzZSB1c2UgZXJyb3IgYXMgcGFyYW1ldGVyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBzYXZlRXJyb3JNZXNzYWdlKGVyck1zZyB8fCBlcnJvciwgcXVlcnkpO1xuICAgICAgICBkaWFsb2dTZXJ2aWNlLm9wZW5NZXNzYWdlRGlhbG9nKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yIHNhdmluZyBxdWVyeVwiLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5cbmZ1bmN0aW9uIHNhdmVFcnJvck1lc3NhZ2UoZXJyb3I6IGFueSwgcXVlcnk6IElRdWVyeSkge1xuICAgIGlmICghaXNTdXBwb3J0ZWRRdWVyeUlkKHF1ZXJ5LmlkKSkge1xuICAgICAgICByZXR1cm4gXCJPbmx5IHF1ZXJpZXMgaW4gc2F2ZWQgaW4gTXkgUXVlcmllcyBvciBTaGFyZWQgUXVlcmllcyBjYW4gYmUgdXBkYXRlZCB3aXRoIHRoaXMgZXh0ZW5zaW9uXCI7XG4gICAgfVxuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IChlcnJvci5zZXJ2ZXJFcnJvciB8fCBlcnJvcikgYXMgYW55O1xuICBcbiAgICBjb25zdCBtZXNzYWdlID0gKGV4Y2VwdGlvbltcIm1lc3NhZ2VcIl0gfHwgZXhjZXB0aW9uW1widmFsdWVcIl1bXCJNZXNzYWdlXCJdKSBhcyBzdHJpbmc7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93RGlhbG9nKHF1ZXJ5OiBJUXVlcnkpIHtcbiAgXG4gICAgY29uc3QgZGlhbG9nU2VydmljZSA9IGF3YWl0IFNESy5nZXRTZXJ2aWNlPElIb3N0UGFnZUxheW91dFNlcnZpY2U+KENvbW1vblNlcnZpY2VJZHMuSG9zdFBhZ2VMYXlvdXRTZXJ2aWNlKTtcbiAgICBsZXQgb2tDYWxsYmFjazogKCkgPT4gUHJvbWlzZTxhbnk+ID0gYXN5bmMgKCkgPT4ge1xuICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm9rIGNhbGxiYWNrIG5vdCBzZXRcIik7XG4gICAgfTtcbiAgICBsZXQgY2xvc2VEaWFsb2cgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvdWxkIG5vdCBmaW5kIGNsb3NlIGRpYWxvZyBmdW5jdGlvblwiKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBjbG9zZURpYWxvZygpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBcblxuXG4gICAgY29uc3QgY29udGV4dDogSUNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZmFsc2UsXG4gICAgICAgICBsb2FkZWQ6IGFzeW5jIChjYWxsYmFja3MpID0+IHtcbiAgICAgICAgICAgIG9rQ2FsbGJhY2sgPSBjYWxsYmFja3Mub2tDYWxsYmFjaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhbmVsT3B0aW9uczogSVBhbmVsT3B0aW9uczxhbnk+ID0ge1xuICAgICAgICB0aXRsZTogcXVlcnkubmFtZSxcbiAgICAgICAgY29uZmlndXJhdGlvbjogY29udGV4dCxcbiAgICAgICAgc2l6ZTogUGFuZWxTaXplLkxhcmdlLFxuICAgICAgICBvbkNsb3NlOiAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gIFxuICAgIGNvbnN0IGV4dEluZm8gPSBTREsuZ2V0RXh0ZW5zaW9uQ29udGV4dCgpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250cmlidXRpb24gPSBgJHtleHRJbmZvLnB1Ymxpc2hlcklkfS4ke2V4dEluZm8uZXh0ZW5zaW9uSWR9LmNvbnRleHRGb3JtYDtcbiAgICBkaWFsb2dTZXJ2aWNlLm9wZW5QYW5lbChjb250ZW50Q29udHJpYnV0aW9uLCBwYW5lbE9wdGlvbnMpO1xufVxuXG5uYW1lc3BhY2UgV2VsbEtub3duUXVlcmllcyB7XG4gICAgZXhwb3J0IGNvbnN0IEFzc2lnbmVkVG9NZSA9IFwiQTIxMDhEMzEtMDg2Qy00RkIwLUFGREEtMDk3RTRDQzQ2REY0XCI7XG4gICAgZXhwb3J0IGNvbnN0IFVuc2F2ZWRXb3JrSXRlbXMgPSBcIkI3QTI2QTU2LUVBODctNEM5Ny1BNTA0LTNGMDI4ODA4QkI5RlwiO1xuICAgIGV4cG9ydCBjb25zdCBGb2xsb3dlZFdvcmtJdGVtcyA9IFwiMjAyMjMwRTAtODIxRS00MDFELTk2RDEtMjRBNzIwMjMzMEQwXCI7XG4gICAgZXhwb3J0IGNvbnN0IENyZWF0ZWRCeSA9IFwiNTNGQjE1M0YtQzUyQy00MkYxLTkwQjYtQ0ExN0ZDMzU2MUE4XCI7XG4gICAgZXhwb3J0IGNvbnN0IFNlYXJjaFJlc3VsdHMgPSBcIjJDQkY1MTM2LTFBRTUtNDk0OC1CNTlBLTM2RjUyNkQ5QUM3M1wiO1xuICAgIGV4cG9ydCBjb25zdCBDdXN0b21XaXFsID0gXCIwOEUyMDg4My1ENTZDLTQ0NjEtODhFQi1DRTc3QzBDNzkzNkRcIjtcbiAgICBleHBvcnQgY29uc3QgUmVjeWNsZUJpbiA9IFwiMjY1MEM1ODYtMERFNC00MTU2LUJBMEUtMTRCQ0ZCNjY0Q0NBXCI7XG59XG5cbmNvbnN0IHF1ZXJ5RXhjbHVzaW9uTGlzdCA9IFtcbiAgICBXZWxsS25vd25RdWVyaWVzLkFzc2lnbmVkVG9NZSxcbiAgICBXZWxsS25vd25RdWVyaWVzLlVuc2F2ZWRXb3JrSXRlbXMsXG4gICAgV2VsbEtub3duUXVlcmllcy5Gb2xsb3dlZFdvcmtJdGVtcyxcbiAgICBXZWxsS25vd25RdWVyaWVzLkNyZWF0ZWRCeSxcbiAgICBXZWxsS25vd25RdWVyaWVzLlNlYXJjaFJlc3VsdHMsXG4gICAgV2VsbEtub3duUXVlcmllcy5DdXN0b21XaXFsLFxuICAgIFdlbGxLbm93blF1ZXJpZXMuUmVjeWNsZUJpbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1cHBvcnRlZFF1ZXJ5SWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiBxdWVyeUV4Y2x1c2lvbkxpc3QuaW5kZXhPZihpZC50b1VwcGVyQ2FzZSgpKSA9PT0gLTE7XG59XG4iLCJpbXBvcnQgKiBhcyBTREsgZnJvbSBcImF6dXJlLWRldm9wcy1leHRlbnNpb24tc2RrXCI7XG5pbXBvcnQgXCJwcm9taXNlLXBvbHlmaWxsL3NyYy9wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgc2hvd0RpYWxvZyB9IGZyb20gXCIuLi9xdWVyeUVkaXRvci9xdWVyeURpYWxvZ1wiO1xuaW1wb3J0IHsgSVF1ZXJ5IH0gZnJvbSBcIi4vY29udGV4dENvbnRyYWN0c1wiO1xuXG5cbmNvbnN0IG1lbnVBY3Rpb24gPSAge1xuICAgIGV4ZWN1dGU6IChhY3Rpb25Db250ZXh0OiB7IHF1ZXJ5OiBJUXVlcnkgfSkgPT4ge1xuICAgICAgICBzaG93RGlhbG9nKGFjdGlvbkNvbnRleHQucXVlcnkpO1xuICAgICAgICBpZiAoIWFjdGlvbkNvbnRleHQgfHwgIWFjdGlvbkNvbnRleHQucXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aW9uOiAoYWN0aW9uQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2hvd0RpYWxvZyhhY3Rpb25Db250ZXh0LnF1ZXJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSxcbn07XG5cblNESy5yZWdpc3RlcihcInF1ZXJ5LW1lbnVcIiwgbWVudUFjdGlvbik7XG5TREsucmVnaXN0ZXIoXCJxdWVyeS1yZXN1bHRzLW1lbnVcIiwgbWVudUFjdGlvbik7XG5TREsuaW5pdCgpOyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiZXhwb3J0cyIsImF6dXJlX2Rldm9wc19leHRlbnNpb25fc2RrXzEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZ2V0Q2xpZW50IiwiY2xpZW50Q2xhc3MiLCJjbGllbnRPcHRpb25zIiwib3B0aW9ucyIsInJvb3RQYXRoIiwiZ2V0U2VydmljZSIsInRoZW4iLCJsb2NhdGlvblNlcnZpY2UiLCJSRVNPVVJDRV9BUkVBX0lEIiwiZ2V0UmVzb3VyY2VBcmVhTG9jYXRpb24iLCJnZXRTZXJ2aWNlTG9jYXRpb24iLCJhdXRoVG9rZW5Qcm92aWRlciIsImdldEF1dGhvcml6YXRpb25IZWFkZXIiLCJnZXRBY2Nlc3NUb2tlbiIsInRva2VuIiwiQ29tbW9uU2VydmljZUlkcyIsIlRlYW1Gb3VuZGF0aW9uSG9zdFR5cGUiLCJQYW5lbFNpemUiLCJNZXNzYWdlQmFubmVyTGV2ZWwiLCJDbGllbnRfMSIsIkNvbW1vblNlcnZpY2VzXzEiLCJfX2V4cG9ydCIsIm0iLCJwIiwiaGFzT3duUHJvcGVydHkiLCJpbmRleF8xIiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHJvdG90eXBlIiwiY2FsbCIsInQiLCJfX2F3YWl0ZXIiLCJ0aGlzIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIlhETV8xIiwic2RrVmVyc2lvbiIsImdsb2JhbCIsIndpbmRvdyIsIl9BenVyZURldk9wc1NES1ZlcnNpb24iLCJjb25zb2xlIiwiZXJyb3IiLCJIb3N0VHlwZSIsImV4dGVuc2lvbkNvbnRleHQiLCJpbml0aWFsQ29uZmlndXJhdGlvbiIsImluaXRpYWxDb250cmlidXRpb25JZCIsInVzZXJDb250ZXh0IiwiaG9zdENvbnRleHQiLCJ0aGVtZUVsZW1lbnQiLCJyZXNvbHZlUmVhZHkiLCJob3N0Q29udHJvbElkIiwicGFyZW50Q2hhbm5lbCIsImNoYW5uZWxNYW5hZ2VyIiwiYWRkQ2hhbm5lbCIsInBhcmVudCIsInJlYWR5UHJvbWlzZSIsImRpc3BhdGNoRXZlbnQiLCJldmVudE5hbWUiLCJwYXJhbXMiLCJldnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsImRldGFpbCIsInJlYWR5IiwiX2EiLCJnZXRXYWl0Rm9yUmVhZHlFcnJvciIsIm1ldGhvZCIsImFwcGx5VGhlbWUiLCJ0aGVtZURhdGEiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImNzc1ZhcmlhYmxlcyIsInZhck5hbWUiLCJpbm5lclRleHQiLCJqb2luIiwiZ2V0T2JqZWN0UmVnaXN0cnkiLCJyZWdpc3RlciIsImluaXQiLCJpbml0T3B0aW9ucyIsIl9fYXNzaWduIiwiaW52b2tlUmVtb3RlTWV0aG9kIiwiaGFuZHNoYWtlRGF0YSIsImluaXRpYWxDb25maWciLCJjb250cmlidXRpb25JZCIsImNvbnRleHQiLCJleHRlbnNpb24iLCJ1c2VyIiwiaG9zdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImRhdGEiLCJub3RpZnlMb2FkU3VjY2VlZGVkIiwibm90aWZ5TG9hZEZhaWxlZCIsImdldENvbmZpZ3VyYXRpb24iLCJFcnJvciIsImdldENvbnRyaWJ1dGlvbklkIiwiZ2V0VXNlciIsImdldEhvc3QiLCJnZXRFeHRlbnNpb25Db250ZXh0IiwiaW5zdGFuY2VJZCIsImluc3RhbmNlIiwidW5yZWdpc3RlciIsInRva2VuT2JqIiwiZ2V0QXBwVG9rZW4iLCJyZXNpemUiLCJ3aWR0aCIsImhlaWdodCIsIm5ld1dpZHRoIiwic2Nyb2xsV2lkdGgiLCJ1bmRlZmluZWQiLCJuZXdIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJzbWFsbGVzdFJhbmRvbSIsInBhcnNlSW50IiwibWF4U2FmZUludGVnZXIiLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwiWERNT2JqZWN0UmVnaXN0cnkiLCJvYmplY3RzIiwiZ2V0SW5zdGFuY2UiLCJjb250ZXh0RGF0YSIsIm5leHRDaGFubmVsSWQiLCJYRE1DaGFubmVsIiwicG9zdFRvV2luZG93IiwidGFyZ2V0T3JpZ2luIiwicHJvbWlzZXMiLCJuZXh0TWVzc2FnZUlkIiwibmV4dFByb3h5SWQiLCJwcm94eUZ1bmN0aW9ucyIsInJlZ2lzdHJ5IiwiY2hhbm5lbElkIiwiaGFuZHNoYWtlVG9rZW4iLCJuZXdGaW5nZXJwcmludCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwibWV0aG9kTmFtZSIsImluc3RhbmNlQ29udGV4dERhdGEiLCJzZXJpYWxpemF0aW9uU2V0dGluZ3MiLCJtZXNzYWdlIiwicHJvbWlzZSIsIl90aGlzIiwiaWQiLCJpbnN0YW5jZUNvbnRleHQiLCJfY3VzdG9tU2VyaWFsaXplT2JqZWN0IiwiX3NlbmRScGNNZXNzYWdlIiwiZ2V0UmVtb3RlT2JqZWN0UHJveHkiLCJpbnZva2VNZXRob2QiLCJyZWdpc3RlcmVkSW5zdGFuY2UiLCJycGNNZXNzYWdlIiwibWV0aG9kQXJncyIsIl9jdXN0b21EZXNlcmlhbGl6ZU9iamVjdCIsImFzeW5jUmVzdWx0IiwiX3N1Y2Nlc3MiLCJleGNlcHRpb24iLCJnZXRSZWdpc3RlcmVkT2JqZWN0IiwicmVnaXN0ZXJlZE9iamVjdCIsImdsb2JhbE9iamVjdFJlZ2lzdHJ5Iiwib25NZXNzYWdlIiwicmVzb2x2ZWRJbnN0YW5jZSIsIm93bnMiLCJzb3VyY2UiLCJvcmlnaW4iLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJtZXNzYWdlT2JqIiwiZXJyb3JPYmoiLCJwb3N0TWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvYmoiLCJzZXR0aW5ncyIsInByZXZQYXJlbnRPYmplY3RzIiwibmV4dENpcmN1bGFyUmVmSWQiLCJkZXB0aCIsIk5vZGUiLCJXaW5kb3ciLCJFdmVudCIsInJldHVyblZhbHVlIiwicGFyZW50T2JqZWN0cyIsIm5ld09iamVjdHMiLCJvcmlnaW5hbE9iamVjdHMiLCJzZXJpYWxpemVNZW1iZXIiLCJwYXJlbnRPYmplY3QiLCJuZXdPYmplY3QiLCJrZXkiLCJpdGVtIiwiZXgiLCJpdGVtVHlwZSIsInBhcmVudEl0ZW1JbmRleCIsInBhcmVudEl0ZW0iLCJfX2NpcmN1bGFyUmVmZXJlbmNlSWQiLCJfX2NpcmN1bGFyUmVmZXJlbmNlIiwiX19wcm94eUZ1bmN0aW9uSWQiLCJfcmVnaXN0ZXJQcm94eUZ1bmN0aW9uIiwiX2NoYW5uZWxJZCIsIkRhdGUiLCJfX3Byb3h5RGF0ZSIsImdldFRpbWUiLCJBcnJheSIsImwiLCJrZXlzIiwiZ2V0QWxsUHJvcGVydHlOYW1lcyIsInByb3BlcnRpZXMiLCJfaSIsIm93blByb3BlcnR5TmFtZXNfMSIsImdldE93blByb3BlcnR5TmFtZXMiLCJuYW1lXzEiLCJnZXRQcm90b3R5cGVPZiIsImluY2x1ZGVVbmRlcnNjb3JlUHJvcGVydGllcyIsImZ1bmMiLCJwcm94eUZ1bmN0aW9uSWQiLCJzbGljZSIsImNpcmN1bGFyUmVmcyIsInRoYXQiLCJkZXNlcmlhbGl6ZU1lbWJlciIsIlhETUNoYW5uZWxNYW5hZ2VyIiwiX2NoYW5uZWxzIiwiX2hhbmRsZU1lc3NhZ2VSZWNlaXZlZCIsImV2ZW50IiwicGFyc2UiLCJoYW5kbGVkIiwiY2hhbm5lbE93bmVyIiwiY2hhbm5lbCIsInJlbW92ZUNoYW5uZWwiLCJmaWx0ZXIiLCJjIiwiYXNzaWduIiwidGFyZ2V0IiwiZmlyc3RTb3VyY2UiLCJ0byIsIm5leHRTb3VyY2UiLCJrZXlzQXJyYXkiLCJuZXh0SW5kZXgiLCJsZW4iLCJuZXh0S2V5IiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJtb2R1bGUiLCJwb2x5ZmlsbCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwib2JqZWN0T3JGdW5jdGlvbiIsIngiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsInZlcnR4TmV4dCIsImN1c3RvbVNjaGVkdWxlckZuIiwiYXNhcCIsImNhbGxiYWNrIiwiYXJnIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJzZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwic2V0QXNhcCIsImFzYXBGbiIsImJyb3dzZXJXaW5kb3ciLCJicm93c2VyR2xvYmFsIiwiQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImlzTm9kZSIsInNlbGYiLCJwcm9jZXNzIiwiaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJNZXNzYWdlQ2hhbm5lbCIsInVzZU5leHRUaWNrIiwibmV4dFRpY2siLCJ1c2VWZXJ0eFRpbWVyIiwidXNlU2V0VGltZW91dCIsInVzZU11dGF0aW9uT2JzZXJ2ZXIiLCJpdGVyYXRpb25zIiwib2JzZXJ2ZXIiLCJub2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInVzZU1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsImdsb2JhbFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXR0ZW1wdFZlcnR4IiwidmVydHgiLCJGdW5jdGlvbiIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsIm9uRnVsZmlsbG1lbnQiLCJvblJlamVjdGlvbiIsImNoaWxkIiwiY29uc3RydWN0b3IiLCJub29wIiwiUFJPTUlTRV9JRCIsIm1ha2VQcm9taXNlIiwiX3N0YXRlIiwiaW52b2tlQ2FsbGJhY2siLCJfcmVzdWx0Iiwic3Vic2NyaWJlIiwicmVzb2x2ZSQxIiwib2JqZWN0IiwiQ29uc3RydWN0b3IiLCJzdWJzdHJpbmciLCJQRU5ESU5HIiwiRlVMRklMTEVEIiwiUkVKRUNURUQiLCJzZWxmRnVsZmlsbG1lbnQiLCJjYW5ub3RSZXR1cm5Pd24iLCJ0cnlUaGVuIiwidGhlbiQkMSIsImZ1bGZpbGxtZW50SGFuZGxlciIsInJlamVjdGlvbkhhbmRsZXIiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJ0aGVuYWJsZSIsInNlYWxlZCIsImZ1bGZpbGwiLCJyZWFzb24iLCJfbGFiZWwiLCJoYW5kbGVPd25UaGVuYWJsZSIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwicHVibGlzaFJlamVjdGlvbiIsIl9vbmVycm9yIiwicHVibGlzaCIsIl9zdWJzY3JpYmVycyIsInN1YnNjcmliZXJzIiwic2V0dGxlZCIsImhhc0NhbGxiYWNrIiwic3VjY2VlZGVkIiwiaW5pdGlhbGl6ZVByb21pc2UiLCJyZXNvbHZlciIsInJlc29sdmVQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsIm5leHRJZCIsInZhbGlkYXRpb25FcnJvciIsIkVudW1lcmF0b3IiLCJpbnB1dCIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX3JlbWFpbmluZyIsIl9lbnVtZXJhdGUiLCJfZWFjaEVudHJ5IiwiZW50cnkiLCJyZXNvbHZlJCQxIiwiX3RoZW4iLCJkaWRFcnJvciIsIl9zZXR0bGVkQXQiLCJQcm9taXNlJDEiLCJfd2lsbFNldHRsZUF0Iiwic3RhdGUiLCJlbnVtZXJhdG9yIiwiYWxsIiwiZW50cmllcyIsInJhY2UiLCJyZWplY3QkMSIsIm5lZWRzUmVzb2x2ZXIiLCJuZWVkc05ldyIsImNhdGNoIiwiX2NhdGNoIiwiZmluYWxseSIsIl9maW5hbGx5IiwibG9jYWwiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiX3NldFNjaGVkdWxlciIsIl9zZXRBc2FwIiwiX2FzYXAiLCJmYWN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdsb2JhbFRoaXMiLCJmaW5hbGx5Q29uc3RydWN0b3IiLCJhbGxTZXR0bGVkIiwiYXJyIiwiYXJncyIsInJlbWFpbmluZyIsInJlcyIsInZhbCIsInN0YXR1cyIsIkFnZ3JlZ2F0ZUVycm9yIiwiZXJyb3JzIiwibmFtZSIsImFueSIsInJlamVjdGlvblJlYXNvbnMiLCJzZXRUaW1lb3V0RnVuYyIsIkJvb2xlYW4iLCJmbiIsIl9oYW5kbGVkIiwiX3ZhbHVlIiwiX2RlZmVycmVkcyIsImRvUmVzb2x2ZSIsImhhbmRsZSIsImRlZmVycmVkIiwiX2ltbWVkaWF0ZUZuIiwiY2IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJyZXQiLCJuZXdWYWx1ZSIsImZpbmFsZSIsImJpbmQiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJIYW5kbGVyIiwicHJvbSIsInNldEltbWVkaWF0ZSIsImVyciIsIndhcm4iLCJnbG9iYWxOUyIsIldlbGxLbm93blF1ZXJpZXMiLCJzaG93RGlhbG9nIiwicXVlcnkiLCJIb3N0UGFnZUxheW91dFNlcnZpY2UiLCJkaWFsb2dTZXJ2aWNlIiwiaW5pdGlhbFZhbHVlIiwibG9hZGVkIiwiY2FsbGJhY2tzIiwib2tDYWxsYmFjayIsInBhbmVsT3B0aW9ucyIsInRpdGxlIiwiY29uZmlndXJhdGlvbiIsInNpemUiLCJMYXJnZSIsIm9uQ2xvc2UiLCJleHRJbmZvIiwiY29udGVudENvbnRyaWJ1dGlvbiIsInB1Ymxpc2hlcklkIiwiZXh0ZW5zaW9uSWQiLCJvcGVuUGFuZWwiLCJBc3NpZ25lZFRvTWUiLCJVbnNhdmVkV29ya0l0ZW1zIiwiRm9sbG93ZWRXb3JrSXRlbXMiLCJDcmVhdGVkQnkiLCJTZWFyY2hSZXN1bHRzIiwiQ3VzdG9tV2lxbCIsIlJlY3ljbGVCaW4iLCJtZW51QWN0aW9uIiwiZXhlY3V0ZSIsImFjdGlvbkNvbnRleHQiLCJhY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9